/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LinkPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/commands/createLinkedNote.ts
var import_obsidian3 = require("obsidian");

// src/utils/fileUtils.ts
function sanitizeFileName(name) {
  return name.toLowerCase().replace(/\s+/g, "-").replace(/[^a-z0-9-]/g, "").replace(/-+/g, "-");
}

// src/modals/newNoteModal.ts
var import_obsidian = require("obsidian");

// src/utils/folderUtils.ts
var ROOT_FOLDER = "_Link";
var BASE_FOLDERS = {
  JOURNAL: `${ROOT_FOLDER}/_Journal`,
  DOCUMENTS: `${ROOT_FOLDER}/Documents`,
  TEMPLATES: `${ROOT_FOLDER}/Templates`,
  WORKSPACE: `${ROOT_FOLDER}/_Workspace`,
  REFERENCES: `${ROOT_FOLDER}/_References`,
  ARCHIVE: `${ROOT_FOLDER}/Archive`
};
var SUB_FOLDERS = {
  [BASE_FOLDERS.DOCUMENTS]: ["Images", "Videos", "Audio", "Other"],
  [BASE_FOLDERS.REFERENCES]: [
    "Books/Technology",
    "Books/Business",
    "Articles/Blog-Posts",
    "Articles/Research",
    "Courses/Online",
    "Courses/Certifications"
  ],
  [BASE_FOLDERS.ARCHIVE]: [
    "Completed-Projects",
    "Old-References",
    "Old-Templates"
  ]
};
var DEFAULT_TEMPLATE_CONTENT = `---
created: {{date:YYYY-MM-DD}} {{time:HH:mm}}
---

# {{date:dddd, MMMM D, YYYY}}

## Tasks
- [ ] 

## Notes


## Journal


## Links
`;
async function ensureTemplateExists(vault) {
  const templatePath = `${BASE_FOLDERS.TEMPLATES}/Daily Note Template.md`;
  try {
    const exists = await vault.adapter.exists(templatePath);
    if (!exists) {
      await vault.create(templatePath, DEFAULT_TEMPLATE_CONTENT);
      console.debug(`Created template file: ${templatePath}`);
    }
    return templatePath;
  } catch (error) {
    console.error("Error ensuring template exists:", error);
    throw error;
  }
}
async function updateDailyNotesLocation(app) {
  var _a;
  try {
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;
    const monthName = new Intl.DateTimeFormat("en-US", {
      month: "short"
    }).format(now);
    const yearFolder = `${BASE_FOLDERS.JOURNAL}/y_${year}`;
    const monthFolder = `${yearFolder}/m_${String(month).padStart(
      2,
      "0"
    )}_${monthName}`;
    await createFolderIfNotExists(app.vault, yearFolder);
    await createFolderIfNotExists(app.vault, monthFolder);
    const templatePath = await ensureTemplateExists(app.vault);
    try {
      const dailyNotesSettings = await app.vault.adapter.read(".obsidian/daily-notes.json").catch(() => "{}");
      const settings = JSON.parse(dailyNotesSettings);
      settings.folder = monthFolder;
      settings.template = templatePath;
      settings.format = "YYYY-MM-DD dddd";
      await app.vault.adapter.write(
        ".obsidian/daily-notes.json",
        JSON.stringify(settings, null, 2)
      );
      const dailyNotesPlugin = (_a = app.internalPlugins) == null ? void 0 : _a.plugins["daily-notes"];
      if (dailyNotesPlugin == null ? void 0 : dailyNotesPlugin.enabled) {
        dailyNotesPlugin.instance.options = settings;
      }
    } catch (error) {
      console.error("Error updating daily notes settings:", error);
    }
    return monthFolder;
  } catch (error) {
    console.error("Error updating daily notes location:", error);
    throw new Error("Failed to update daily notes location");
  }
}
async function ensureFolderStructure(app) {
  try {
    await createFolderIfNotExists(app.vault, ROOT_FOLDER);
    for (const folder of Object.values(BASE_FOLDERS)) {
      await createFolderIfNotExists(app.vault, folder);
    }
    for (const [baseFolder, subFolders] of Object.entries(SUB_FOLDERS)) {
      for (const subFolder of subFolders) {
        const fullPath = `${baseFolder}/${subFolder}`;
        await createFolderIfNotExists(app.vault, fullPath);
      }
    }
    await updateDailyNotesLocation(app);
  } catch (error) {
    console.error("Error ensuring folder structure:", error);
    throw new Error("Failed to create folder structure");
  }
}
async function createFolderIfNotExists(vault, path) {
  try {
    const exists = await vault.adapter.exists(path);
    if (!exists) {
      await vault.createFolder(path);
      console.debug(`Created folder: ${path}`);
    }
  } catch (error) {
    console.error(`Error creating folder ${path}:`, error);
    throw error;
  }
}
async function ensureFutureDailyNoteFolder(app, date) {
  try {
    const year = date.year();
    const month = date.month() + 1;
    const monthName = date.format("MMM");
    const yearFolder = `${BASE_FOLDERS.JOURNAL}/y_${year}`;
    const monthFolder = `${yearFolder}/m_${String(month).padStart(
      2,
      "0"
    )}_${monthName}`;
    await createFolderIfNotExists(app.vault, yearFolder);
    await createFolderIfNotExists(app.vault, monthFolder);
    return monthFolder;
  } catch (error) {
    console.error("Error creating future daily note folder:", error);
    throw new Error("Failed to create future daily note folder");
  }
}

// src/modals/newNoteModal.ts
var NewNoteModal = class extends import_obsidian.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.result = { name: "", folder: "" };
    this.isFutureDaily = false;
    this.containers = {};
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Create New Note" });
    new import_obsidian.Setting(contentEl).setName("Note Type").setDesc("Choose the type of note to create").addDropdown((dropdown) => {
      dropdown.addOption("regular", "Regular Note").addOption("future", "Future Daily Note").onChange((value) => {
        var _a, _b;
        this.isFutureDaily = value === "future";
        if (this.isFutureDaily) {
          this.result.folder = BASE_FOLDERS.JOURNAL;
          (_b = (_a = this.folderDropdown) == null ? void 0 : _a.components[0]) == null ? void 0 : _b.setValue(BASE_FOLDERS.JOURNAL);
        }
        this.result.isFutureDaily = this.isFutureDaily;
        this.updateFormVisibility();
      });
    });
    this.containers.datePickerContainer = contentEl.createDiv();
    this.containers.datePickerContainer.style.display = "none";
    new import_obsidian.Setting(this.containers.datePickerContainer).setName("Date").setDesc("Choose the date for the future daily note").addText((text) => {
      const datePickerEl = text.inputEl;
      datePickerEl.type = "date";
      const tomorrow = (0, import_obsidian.moment)().add(1, "day").format("YYYY-MM-DD");
      datePickerEl.value = tomorrow;
      datePickerEl.min = tomorrow;
      datePickerEl.addEventListener("change", () => {
        this.result.date = (0, import_obsidian.moment)(datePickerEl.value);
        if (this.isFutureDaily) {
          this.result.name = this.result.date.format("YYYY-MM-DD dddd");
        }
        if (this.inputEl) {
          this.inputEl.value = this.result.name;
        }
      });
      this.result.date = (0, import_obsidian.moment)(tomorrow);
      this.result.name = this.result.date.format("YYYY-MM-DD dddd");
    });
    this.containers.nameContainer = contentEl.createDiv();
    new import_obsidian.Setting(this.containers.nameContainer).setName("Note Name").setDesc("Enter the name for your new note").addText((text) => {
      this.inputEl = text.inputEl;
      text.inputEl.placeholder = "Note name";
      text.inputEl.addEventListener("input", () => {
        if (!this.isFutureDaily) {
          this.result.name = text.inputEl.value;
        }
      });
      text.inputEl.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && this.isValid()) {
          this.close();
          this.onSubmit(this.result);
        }
      });
    });
    this.containers.folderContainer = contentEl.createDiv();
    this.folderDropdown = new import_obsidian.Setting(this.containers.folderContainer).setName("Location").setDesc("Choose where to create the note").addDropdown((dropdown) => {
      Object.entries(BASE_FOLDERS).forEach(([key, value]) => {
        dropdown.addOption(value, value);
      });
      dropdown.onChange((value) => {
        if (!this.isFutureDaily) {
          this.result.folder = value;
        }
      });
      dropdown.setValue(BASE_FOLDERS.JOURNAL);
      this.result.folder = BASE_FOLDERS.JOURNAL;
    });
    const buttonDiv = contentEl.createDiv("button-container");
    buttonDiv.style.display = "flex";
    buttonDiv.style.justifyContent = "flex-end";
    buttonDiv.style.gap = "10px";
    buttonDiv.style.marginTop = "20px";
    const createButton = buttonDiv.createEl("button", {
      text: "Create",
      cls: "mod-cta"
    });
    createButton.addEventListener("click", () => {
      if (this.isValid()) {
        this.close();
        this.onSubmit(this.result);
      }
    });
    const cancelButton = buttonDiv.createEl("button", { text: "Cancel" });
    cancelButton.addEventListener("click", () => {
      this.close();
      this.onSubmit(null);
    });
    this.updateFormVisibility();
    this.inputEl.focus();
  }
  updateFormVisibility() {
    if (this.isFutureDaily) {
      this.containers.datePickerContainer.style.display = "block";
      this.containers.nameContainer.style.display = "none";
      this.containers.folderContainer.style.display = "none";
    } else {
      this.containers.datePickerContainer.style.display = "none";
      this.containers.nameContainer.style.display = "block";
      this.containers.folderContainer.style.display = "block";
      this.result.date = void 0;
    }
  }
  isValid() {
    if (this.isFutureDaily) {
      return Boolean(this.result.date);
    }
    return Boolean(this.result.name && this.result.folder);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/utils/errorHandler.ts
var import_obsidian2 = require("obsidian");
var LinkPluginError = class extends Error {
  constructor(message, code, originalError) {
    super(message);
    this.code = code;
    this.originalError = originalError;
    this.name = "LinkPluginError";
  }
};
function handlePluginError(error, context) {
  const pluginError = ensurePluginError(error, context);
  console.error(`[Link Plugin] ${context}:`, pluginError);
  new import_obsidian2.Notice(`Link Plugin: ${pluginError.message}`);
  throw pluginError;
}
function ensurePluginError(error, context) {
  if (error instanceof LinkPluginError) {
    return error;
  }
  const message = error instanceof Error ? error.message : String(error);
  return new LinkPluginError(
    `${context}: ${message}`,
    "FILE_CREATION_FAILED" /* FILE_CREATION_FAILED */,
    error instanceof Error ? error : void 0
  );
}

// src/commands/createLinkedNote.ts
async function createLinkedNote(plugin, editor) {
  try {
    const result = await getNoteName(editor, plugin);
    if (!result) {
      return;
    }
    let { name: noteName, folder } = result;
    if (result.isFutureDaily && result.date) {
      folder = await ensureFutureDailyNoteFolder(plugin.app, result.date);
    }
    const fileName = await validateAndSanitizeFileName(noteName);
    const fullPath = `${folder}/${fileName}`;
    const newNote = await createNoteFile(plugin, fullPath, noteName, result);
    const linkPath = fullPath.replace(`${ROOT_FOLDER}/`, "");
    await insertNoteLinkInEditor(editor, linkPath);
    new import_obsidian3.Notice(`Created new note: ${linkPath}`);
  } catch (error) {
    handlePluginError(error, "Failed to create linked note");
  }
}
async function getNoteName(editor, plugin) {
  const selection = editor.getSelection();
  return new Promise((resolve) => {
    const modal = new NewNoteModal(plugin.app, (result) => {
      if (result) {
        resolve(result);
      } else {
        resolve(null);
      }
    });
    modal.open();
    if (selection) {
      modal.inputEl.value = selection;
      modal.result.name = selection;
    }
  });
}
async function validateAndSanitizeFileName(name) {
  if (!isValidNoteName(name)) {
    throw new LinkPluginError("Invalid note name", "INVALID_NOTE_NAME" /* INVALID_NOTE_NAME */);
  }
  return sanitizeFileName(name);
}
async function createNoteFile(plugin, fullPath, noteName, options) {
  try {
    const exists = await plugin.app.vault.adapter.exists(`${fullPath}.md`);
    if (exists) {
      throw new LinkPluginError(
        `Note "${fullPath}" already exists`,
        "FILE_ALREADY_EXISTS" /* FILE_ALREADY_EXISTS */
      );
    }
    let content;
    if (options.isFutureDaily) {
      content = await createDailyNoteContent(plugin.app, noteName, options.date);
    } else {
      content = `# ${noteName}

`;
    }
    return await plugin.app.vault.create(`${fullPath}.md`, content);
  } catch (error) {
    if (error instanceof LinkPluginError) {
      throw error;
    }
    throw new LinkPluginError(
      "Failed to create note file",
      "FILE_OPERATION_FAILED" /* FILE_OPERATION_FAILED */,
      error instanceof Error ? error : void 0
    );
  }
}
async function createDailyNoteContent(app, noteName, date) {
  try {
    const templatePath = `${BASE_FOLDERS.TEMPLATES}/Daily Note Template.md`;
    let templateContent = await app.vault.adapter.read(templatePath);
    if (date) {
      templateContent = templateContent.replace(/{{date:YYYY-MM-DD}}/g, date.format("YYYY-MM-DD")).replace(/{{time:HH:mm}}/g, (0, import_obsidian3.moment)().format("HH:mm")).replace(
        /{{date:dddd, MMMM D, YYYY}}/g,
        date.format("dddd, MMMM D, YYYY")
      );
    }
    return templateContent;
  } catch (error) {
    console.error("Error reading template:", error);
    return `# ${noteName}

Created: ${(0, import_obsidian3.moment)().format(
      "YYYY-MM-DD HH:mm"
    )}

`;
  }
}
async function insertNoteLinkInEditor(editor, fullPath) {
  var _a;
  try {
    const displayName = ((_a = fullPath.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || fullPath;
    editor.replaceSelection(`[[${fullPath}|${displayName}]]`);
  } catch (error) {
    throw new LinkPluginError(
      "Failed to insert note link",
      "LINK_INSERTION_FAILED" /* LINK_INSERTION_FAILED */,
      error instanceof Error ? error : void 0
    );
  }
}
function isValidNoteName(name) {
  return Boolean(
    name && name.length > 0 && name.length <= 255 && !name.includes("/") && !name.includes("\\")
  );
}

// src/settings/settings.ts
var DEFAULT_SETTINGS = {
  defaultLinkStyle: "markdown",
  autoFormatLinks: true,
  dailyNotesLocation: ""
};

// src/modals/baseModal.ts
var import_obsidian4 = require("obsidian");
var BasePluginModal = class extends import_obsidian4.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.renderContent();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  createSection(title, items) {
    const section = this.contentEl.createEl("div", { cls: "help-section" });
    section.createEl("h3", { text: title });
    const list = section.createEl("div", { cls: "help-list" });
    items.forEach((item) => {
      const itemEl = list.createEl("div", { cls: "help-item" });
      itemEl.createEl("h4", { text: item.title });
      itemEl.createEl("p", { text: item.description });
    });
  }
  addActionButtons(actions) {
    const buttonContainer = new import_obsidian4.Setting(this.contentEl);
    actions.forEach(({ text, isCta, onClick }) => {
      buttonContainer.addButton((btn) => {
        btn.setButtonText(text);
        if (isCta)
          btn.setCta();
        btn.onClick(onClick);
        return btn;
      });
    });
  }
};

// src/modals/helpModal.ts
var HelpModal = class extends BasePluginModal {
  constructor(app) {
    super(app);
  }
  renderContent() {
    this.contentEl.createEl("h2", { text: "Link Plugin Help" });
    this.createSection("Core Features", [
      {
        title: "\u{1F4DD} Creating Linked Notes",
        description: "Enter a name for your new note in the popup dialog to create a linked note."
      }
    ]);
    this.createSection("Settings", [
      {
        title: "\u2699\uFE0F Plugin Settings",
        description: "Access settings via Settings > Link Plugin to customize:\n- Default link style (Wiki or Markdown)\n- Auto-format links toggle"
      }
    ]);
    this.addActionButtons([
      {
        text: "Open Settings",
        onClick: () => {
          this.close();
          this.app.setting.openTabById("obsidian-link-plugin");
        }
      },
      {
        text: "Close",
        isCta: true,
        onClick: () => this.close()
      }
    ]);
  }
};

// src/main.ts
var LinkPlugin = class extends import_obsidian5.Plugin {
  async onload() {
    try {
      console.group("Link Plugin Loading");
      console.debug("Starting plugin initialization...");
      console.time("Plugin Load Time");
      console.debug("Loading plugin settings...");
      await this.loadSettings();
      console.debug("Settings loaded successfully:", this.settings);
      console.debug("Ensuring folder structure...");
      try {
        await ensureFolderStructure(this.app);
        const newLocation = await updateDailyNotesLocation(this.app);
        this.settings.dailyNotesLocation = newLocation;
        await this.saveSettings();
        console.debug("Folder structure verified/created successfully");
      } catch (error) {
        console.error("Error ensuring folder structure:", error);
        new import_obsidian5.Notice(
          "Error creating folder structure. Check console for details."
        );
      }
      this.registerInterval(
        window.setInterval(async () => {
          try {
            const currentLocation = this.settings.dailyNotesLocation;
            const newLocation = await updateDailyNotesLocation(this.app);
            if (currentLocation !== newLocation) {
              this.settings.dailyNotesLocation = newLocation;
              await this.saveSettings();
              console.debug("Daily notes location updated:", newLocation);
            }
          } catch (error) {
            console.error("Error updating daily notes location:", error);
          }
        }, 1e3 * 60 * 60)
        // Check every hour
      );
      console.group("Registering Commands");
      try {
        this.registerCommands();
        console.debug("Commands registered successfully");
      } catch (error) {
        console.error("Error registering commands:", error);
        throw error;
      } finally {
        console.groupEnd();
      }
      console.debug("Adding settings tab...");
      this.addSettingTab(new LinkSettingTab(this.app, this));
      console.debug("Settings tab added successfully");
      console.debug("Adding ribbon icons...");
      try {
        const helpRibbonIconEl = this.addRibbonIcon(
          "help-circle",
          "Link Plugin Help",
          (evt) => {
            console.debug("Help ribbon icon clicked", evt);
            new HelpModal(this.app).open();
          }
        );
        helpRibbonIconEl.addClass("link-plugin-help-ribbon-icon");
        const createNoteRibbonIconEl = this.addRibbonIcon(
          "link",
          "Create Linked Note",
          async (evt) => {
            console.debug("Create note ribbon icon clicked", evt);
            const activeView = this.app.workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
            if (activeView) {
              await createLinkedNote(this, activeView.editor);
            } else {
              new import_obsidian5.Notice("Please open a markdown file first");
            }
          }
        );
        createNoteRibbonIconEl.addClass("link-plugin-create-note-ribbon-icon");
        console.debug("Ribbon icons added successfully");
      } catch (error) {
        console.error("Error adding ribbon icons:", error);
        throw error;
      }
      console.timeEnd("Plugin Load Time");
      console.debug("Plugin loaded successfully");
    } catch (error) {
      console.error("Error during plugin initialization:", error);
      console.groupEnd();
      throw error;
    }
  }
  registerCommands() {
    console.debug("Registering format link command...");
    this.addCommand({
      id: "format-link",
      name: "Format selected link",
      editorCallback: (editor, view) => {
        console.debug("Format link command triggered");
        console.debug("Current selection:", editor.getSelection());
        new import_obsidian5.Notice("Link formatting command triggered");
      }
    });
    console.debug("Registering create linked note command...");
    this.addCommand({
      id: "create-linked-note",
      name: "Create new linked note",
      editorCallback: async (editor, view) => {
        console.debug("Create linked note command triggered");
        await createLinkedNote(this, editor);
      }
    });
  }
  async onunload() {
    console.group("Link Plugin Unloading");
    console.debug("Starting plugin cleanup...");
    console.time("Plugin Unload Time");
    try {
      console.debug("Plugin cleanup completed");
    } catch (error) {
      console.error("Error during plugin cleanup:", error);
    } finally {
      console.timeEnd("Plugin Unload Time");
      console.groupEnd();
    }
  }
  async loadSettings() {
    console.debug("Loading settings...");
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    console.debug("Settings loaded:", this.settings);
  }
  async saveSettings() {
    console.debug("Saving settings...");
    await this.saveData(this.settings);
    console.debug("Settings saved");
  }
};
var LinkSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Link Plugin Settings" });
    new import_obsidian5.Setting(containerEl).setName("Default link style").setDesc("Choose the default style for new links").addDropdown(
      (dropdown) => dropdown.addOption("markdown", "Markdown").addOption("wiki", "Wiki").setValue(this.plugin.settings.defaultLinkStyle).onChange(async (value) => {
        this.plugin.settings.defaultLinkStyle = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian5.Setting(containerEl).setName("Auto-format links").setDesc("Automatically format links when creating notes").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoFormatLinks).onChange(async (value) => {
        this.plugin.settings.autoFormatLinks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian5.Setting(containerEl).setName("Help").setDesc("Open the help documentation").addButton(
      (btn) => btn.setButtonText("Open Help").setCta().onClick(() => {
        new HelpModal(this.app).open();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2NvbW1hbmRzL2NyZWF0ZUxpbmtlZE5vdGUudHMiLCAic3JjL3V0aWxzL2ZpbGVVdGlscy50cyIsICJzcmMvbW9kYWxzL25ld05vdGVNb2RhbC50cyIsICJzcmMvdXRpbHMvZm9sZGVyVXRpbHMudHMiLCAic3JjL3V0aWxzL2Vycm9ySGFuZGxlci50cyIsICJzcmMvc2V0dGluZ3Mvc2V0dGluZ3MudHMiLCAic3JjL21vZGFscy9iYXNlTW9kYWwudHMiLCAic3JjL21vZGFscy9oZWxwTW9kYWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7XHJcbiAgQXBwLFxyXG4gIEVkaXRvcixcclxuICBNYXJrZG93blZpZXcsXHJcbiAgTW9kYWwsXHJcbiAgTm90aWNlLFxyXG4gIFBsdWdpbixcclxuICBQbHVnaW5TZXR0aW5nVGFiLFxyXG4gIFNldHRpbmdcclxufSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IHsgY3JlYXRlTGlua2VkTm90ZSB9IGZyb20gJy4vY29tbWFuZHMvY3JlYXRlTGlua2VkTm90ZSdcclxuaW1wb3J0IHsgTGlua1BsdWdpblNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncydcclxuaW1wb3J0IHsgSGVscE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvaGVscE1vZGFsJ1xyXG5pbXBvcnQge1xyXG4gIGVuc3VyZUZvbGRlclN0cnVjdHVyZSxcclxuICB1cGRhdGVEYWlseU5vdGVzTG9jYXRpb25cclxufSBmcm9tICcuL3V0aWxzL2ZvbGRlclV0aWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlua1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgc2V0dGluZ3M6IExpbmtQbHVnaW5TZXR0aW5nc1xyXG5cclxuICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmdyb3VwKCdMaW5rIFBsdWdpbiBMb2FkaW5nJylcclxuICAgICAgY29uc29sZS5kZWJ1ZygnU3RhcnRpbmcgcGx1Z2luIGluaXRpYWxpemF0aW9uLi4uJylcclxuICAgICAgY29uc29sZS50aW1lKCdQbHVnaW4gTG9hZCBUaW1lJylcclxuXHJcbiAgICAgIC8vIExvYWQgc2V0dGluZ3NcclxuICAgICAgY29uc29sZS5kZWJ1ZygnTG9hZGluZyBwbHVnaW4gc2V0dGluZ3MuLi4nKVxyXG4gICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1NldHRpbmdzIGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgdGhpcy5zZXR0aW5ncylcclxuXHJcbiAgICAgIC8vIEVuc3VyZSBmb2xkZXIgc3RydWN0dXJlIGFuZCB1cGRhdGUgZGFpbHkgbm90ZXMgbG9jYXRpb25cclxuICAgICAgY29uc29sZS5kZWJ1ZygnRW5zdXJpbmcgZm9sZGVyIHN0cnVjdHVyZS4uLicpXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgZW5zdXJlRm9sZGVyU3RydWN0dXJlKHRoaXMuYXBwKVxyXG4gICAgICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gYXdhaXQgdXBkYXRlRGFpbHlOb3Rlc0xvY2F0aW9uKHRoaXMuYXBwKVxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGFpbHlOb3Rlc0xvY2F0aW9uID0gbmV3TG9jYXRpb25cclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpXHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnRm9sZGVyIHN0cnVjdHVyZSB2ZXJpZmllZC9jcmVhdGVkIHN1Y2Nlc3NmdWxseScpXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5zdXJpbmcgZm9sZGVyIHN0cnVjdHVyZTonLCBlcnJvcilcclxuICAgICAgICBuZXcgTm90aWNlKFxyXG4gICAgICAgICAgJ0Vycm9yIGNyZWF0aW5nIGZvbGRlciBzdHJ1Y3R1cmUuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJ1xyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVnaXN0ZXIgaW50ZXJ2YWwgdG8gY2hlY2sgYW5kIHVwZGF0ZSBkYWlseSBub3RlcyBsb2NhdGlvblxyXG4gICAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXHJcbiAgICAgICAgd2luZG93LnNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHRoaXMuc2V0dGluZ3MuZGFpbHlOb3Rlc0xvY2F0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0xvY2F0aW9uID0gYXdhaXQgdXBkYXRlRGFpbHlOb3Rlc0xvY2F0aW9uKHRoaXMuYXBwKVxyXG5cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiAhPT0gbmV3TG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRhaWx5Tm90ZXNMb2NhdGlvbiA9IG5ld0xvY2F0aW9uXHJcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKVxyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RhaWx5IG5vdGVzIGxvY2F0aW9uIHVwZGF0ZWQ6JywgbmV3TG9jYXRpb24pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGRhaWx5IG5vdGVzIGxvY2F0aW9uOicsIGVycm9yKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMDAgKiA2MCAqIDYwKSAvLyBDaGVjayBldmVyeSBob3VyXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIFJlZ2lzdGVyIGNvbW1hbmRzXHJcbiAgICAgIGNvbnNvbGUuZ3JvdXAoJ1JlZ2lzdGVyaW5nIENvbW1hbmRzJylcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKVxyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0NvbW1hbmRzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5JylcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWdpc3RlcmluZyBjb21tYW5kczonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBZGQgc2V0dGluZ3MgdGFiXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0FkZGluZyBzZXR0aW5ncyB0YWIuLi4nKVxyXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IExpbmtTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSlcclxuICAgICAgY29uc29sZS5kZWJ1ZygnU2V0dGluZ3MgdGFiIGFkZGVkIHN1Y2Nlc3NmdWxseScpXHJcblxyXG4gICAgICAvLyBBZGQgcmliYm9uIGljb25zXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0FkZGluZyByaWJib24gaWNvbnMuLi4nKVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEhlbHAgcmliYm9uIGljb25cclxuICAgICAgICBjb25zdCBoZWxwUmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxyXG4gICAgICAgICAgJ2hlbHAtY2lyY2xlJyxcclxuICAgICAgICAgICdMaW5rIFBsdWdpbiBIZWxwJyxcclxuICAgICAgICAgIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnSGVscCByaWJib24gaWNvbiBjbGlja2VkJywgZXZ0KVxyXG4gICAgICAgICAgICBuZXcgSGVscE1vZGFsKHRoaXMuYXBwKS5vcGVuKClcclxuICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgaGVscFJpYmJvbkljb25FbC5hZGRDbGFzcygnbGluay1wbHVnaW4taGVscC1yaWJib24taWNvbicpXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBsaW5rZWQgbm90ZSByaWJib24gaWNvblxyXG4gICAgICAgIGNvbnN0IGNyZWF0ZU5vdGVSaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oXHJcbiAgICAgICAgICAnbGluaycsXHJcbiAgICAgICAgICAnQ3JlYXRlIExpbmtlZCBOb3RlJyxcclxuICAgICAgICAgIGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQ3JlYXRlIG5vdGUgcmliYm9uIGljb24gY2xpY2tlZCcsIGV2dClcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlVmlldyA9XHJcbiAgICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG4gICAgICAgICAgICBpZiAoYWN0aXZlVmlldykge1xyXG4gICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZUxpbmtlZE5vdGUodGhpcywgYWN0aXZlVmlldy5lZGl0b3IpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIG9wZW4gYSBtYXJrZG93biBmaWxlIGZpcnN0JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICBjcmVhdGVOb3RlUmliYm9uSWNvbkVsLmFkZENsYXNzKCdsaW5rLXBsdWdpbi1jcmVhdGUtbm90ZS1yaWJib24taWNvbicpXHJcblxyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1JpYmJvbiBpY29ucyBhZGRlZCBzdWNjZXNzZnVsbHknKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyByaWJib24gaWNvbnM6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS50aW1lRW5kKCdQbHVnaW4gTG9hZCBUaW1lJylcclxuICAgICAgY29uc29sZS5kZWJ1ZygnUGx1Z2luIGxvYWRlZCBzdWNjZXNzZnVsbHknKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHBsdWdpbiBpbml0aWFsaXphdGlvbjonLCBlcnJvcilcclxuICAgICAgY29uc29sZS5ncm91cEVuZCgpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZ2lzdGVyQ29tbWFuZHMoKSB7XHJcbiAgICBjb25zb2xlLmRlYnVnKCdSZWdpc3RlcmluZyBmb3JtYXQgbGluayBjb21tYW5kLi4uJylcclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZm9ybWF0LWxpbmsnLFxyXG4gICAgICBuYW1lOiAnRm9ybWF0IHNlbGVjdGVkIGxpbmsnLFxyXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdGb3JtYXQgbGluayBjb21tYW5kIHRyaWdnZXJlZCcpXHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnQ3VycmVudCBzZWxlY3Rpb246JywgZWRpdG9yLmdldFNlbGVjdGlvbigpKVxyXG4gICAgICAgIG5ldyBOb3RpY2UoJ0xpbmsgZm9ybWF0dGluZyBjb21tYW5kIHRyaWdnZXJlZCcpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc29sZS5kZWJ1ZygnUmVnaXN0ZXJpbmcgY3JlYXRlIGxpbmtlZCBub3RlIGNvbW1hbmQuLi4nKVxyXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6ICdjcmVhdGUtbGlua2VkLW5vdGUnLFxyXG4gICAgICBuYW1lOiAnQ3JlYXRlIG5ldyBsaW5rZWQgbm90ZScsXHJcbiAgICAgIGVkaXRvckNhbGxiYWNrOiBhc3luYyAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0NyZWF0ZSBsaW5rZWQgbm90ZSBjb21tYW5kIHRyaWdnZXJlZCcpXHJcbiAgICAgICAgYXdhaXQgY3JlYXRlTGlua2VkTm90ZSh0aGlzLCBlZGl0b3IpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBvbnVubG9hZCgpIHtcclxuICAgIGNvbnNvbGUuZ3JvdXAoJ0xpbmsgUGx1Z2luIFVubG9hZGluZycpXHJcbiAgICBjb25zb2xlLmRlYnVnKCdTdGFydGluZyBwbHVnaW4gY2xlYW51cC4uLicpXHJcbiAgICBjb25zb2xlLnRpbWUoJ1BsdWdpbiBVbmxvYWQgVGltZScpXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQWRkIGNsZWFudXAgY29kZSBoZXJlXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1BsdWdpbiBjbGVhbnVwIGNvbXBsZXRlZCcpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgcGx1Z2luIGNsZWFudXA6JywgZXJyb3IpXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBjb25zb2xlLnRpbWVFbmQoJ1BsdWdpbiBVbmxvYWQgVGltZScpXHJcbiAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygnTG9hZGluZyBzZXR0aW5ncy4uLicpXHJcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKVxyXG4gICAgY29uc29sZS5kZWJ1ZygnU2V0dGluZ3MgbG9hZGVkOicsIHRoaXMuc2V0dGluZ3MpXHJcbiAgfVxyXG5cclxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICBjb25zb2xlLmRlYnVnKCdTYXZpbmcgc2V0dGluZ3MuLi4nKVxyXG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKVxyXG4gICAgY29uc29sZS5kZWJ1ZygnU2V0dGluZ3Mgc2F2ZWQnKVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTGlua1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICBwbHVnaW46IExpbmtQbHVnaW5cclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGlua1BsdWdpbikge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pXHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG4gIH1cclxuXHJcbiAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXNcclxuXHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpXHJcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdMaW5rIFBsdWdpbiBTZXR0aW5ncycgfSlcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ0RlZmF1bHQgbGluayBzdHlsZScpXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgdGhlIGRlZmF1bHQgc3R5bGUgZm9yIG5ldyBsaW5rcycpXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ21hcmtkb3duJywgJ01hcmtkb3duJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ3dpa2knLCAnV2lraScpXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdExpbmtTdHlsZSlcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdExpbmtTdHlsZSA9IHZhbHVlXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICApXHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdBdXRvLWZvcm1hdCBsaW5rcycpXHJcbiAgICAgIC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IGZvcm1hdCBsaW5rcyB3aGVuIGNyZWF0aW5nIG5vdGVzJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9Gb3JtYXRMaW5rcylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0Zvcm1hdExpbmtzID0gdmFsdWVcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ0hlbHAnKVxyXG4gICAgICAuc2V0RGVzYygnT3BlbiB0aGUgaGVscCBkb2N1bWVudGF0aW9uJylcclxuICAgICAgLmFkZEJ1dHRvbigoYnRuKSA9PlxyXG4gICAgICAgIGJ0blxyXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoJ09wZW4gSGVscCcpXHJcbiAgICAgICAgICAuc2V0Q3RhKClcclxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgbmV3IEhlbHBNb2RhbCh0aGlzLmFwcCkub3BlbigpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG59XHJcbiIsICIvKipcclxuICogQGZpbGUgY3JlYXRlTGlua2VkTm90ZS50c1xyXG4gKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBub3RlIGFuZCBsaW5rcyB0byBpdCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICovXHJcblxyXG5pbXBvcnQgeyBFZGl0b3IsIE5vdGljZSwgVEZpbGUsIEFwcCwgbW9tZW50IH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IHNhbml0aXplRmlsZU5hbWUgfSBmcm9tICcuLi91dGlscy9maWxlVXRpbHMnXHJcbmltcG9ydCB7IE5ld05vdGVNb2RhbCB9IGZyb20gJy4uL21vZGFscy9uZXdOb3RlTW9kYWwnXHJcbmltcG9ydCB7XHJcbiAgaGFuZGxlUGx1Z2luRXJyb3IsXHJcbiAgTGlua1BsdWdpbkVycm9yLFxyXG4gIEVycm9yQ29kZVxyXG59IGZyb20gJy4uL3V0aWxzL2Vycm9ySGFuZGxlcidcclxuaW1wb3J0IHtcclxuICBST09UX0ZPTERFUixcclxuICBlbnN1cmVGdXR1cmVEYWlseU5vdGVGb2xkZXIsXHJcbiAgQkFTRV9GT0xERVJTXHJcbn0gZnJvbSAnLi4vdXRpbHMvZm9sZGVyVXRpbHMnXHJcblxyXG5pbnRlcmZhY2UgTm90ZUNyZWF0aW9uUmVzdWx0IHtcclxuICBuYW1lOiBzdHJpbmdcclxuICBmb2xkZXI6IHN0cmluZ1xyXG4gIGlzRnV0dXJlRGFpbHk/OiBib29sZWFuXHJcbiAgZGF0ZT86IG1vbWVudC5Nb21lbnRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaW5rUGx1Z2luIHtcclxuICBhcHA6IEFwcFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGlua2VkTm90ZShcclxuICBwbHVnaW46IExpbmtQbHVnaW4sXHJcbiAgZWRpdG9yOiBFZGl0b3JcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldE5vdGVOYW1lKGVkaXRvciwgcGx1Z2luKVxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHsgbmFtZTogbm90ZU5hbWUsIGZvbGRlciB9ID0gcmVzdWx0XHJcblxyXG4gICAgLy8gSGFuZGxlIGZ1dHVyZSBkYWlseSBub3RlXHJcbiAgICBpZiAocmVzdWx0LmlzRnV0dXJlRGFpbHkgJiYgcmVzdWx0LmRhdGUpIHtcclxuICAgICAgZm9sZGVyID0gYXdhaXQgZW5zdXJlRnV0dXJlRGFpbHlOb3RlRm9sZGVyKHBsdWdpbi5hcHAsIHJlc3VsdC5kYXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVOYW1lID0gYXdhaXQgdmFsaWRhdGVBbmRTYW5pdGl6ZUZpbGVOYW1lKG5vdGVOYW1lKVxyXG4gICAgY29uc3QgZnVsbFBhdGggPSBgJHtmb2xkZXJ9LyR7ZmlsZU5hbWV9YFxyXG4gICAgY29uc3QgbmV3Tm90ZSA9IGF3YWl0IGNyZWF0ZU5vdGVGaWxlKHBsdWdpbiwgZnVsbFBhdGgsIG5vdGVOYW1lLCByZXN1bHQpXHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgcmVsYXRpdmUgbGluayBwYXRoIGZyb20gdGhlIHJvb3QgZm9sZGVyXHJcbiAgICBjb25zdCBsaW5rUGF0aCA9IGZ1bGxQYXRoLnJlcGxhY2UoYCR7Uk9PVF9GT0xERVJ9L2AsICcnKVxyXG4gICAgYXdhaXQgaW5zZXJ0Tm90ZUxpbmtJbkVkaXRvcihlZGl0b3IsIGxpbmtQYXRoKVxyXG5cclxuICAgIG5ldyBOb3RpY2UoYENyZWF0ZWQgbmV3IG5vdGU6ICR7bGlua1BhdGh9YClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaGFuZGxlUGx1Z2luRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gY3JlYXRlIGxpbmtlZCBub3RlJylcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldE5vdGVOYW1lKFxyXG4gIGVkaXRvcjogRWRpdG9yLFxyXG4gIHBsdWdpbjogTGlua1BsdWdpblxyXG4pOiBQcm9taXNlPE5vdGVDcmVhdGlvblJlc3VsdCB8IG51bGw+IHtcclxuICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKClcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBjb25zdCBtb2RhbCA9IG5ldyBOZXdOb3RlTW9kYWwocGx1Z2luLmFwcCwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShudWxsKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgbW9kYWwub3BlbigpXHJcblxyXG4gICAgLy8gSWYgdGhlcmUncyBhIHNlbGVjdGlvbiwgcHJlLWZpbGwgdGhlIG5vdGUgbmFtZVxyXG4gICAgaWYgKHNlbGVjdGlvbikge1xyXG4gICAgICAvLyBAdHMtaWdub3JlIC0gV2Uga25vdyB0aGUgbW9kYWwgaGFzIHRoaXMgcHJvcGVydHlcclxuICAgICAgbW9kYWwuaW5wdXRFbC52YWx1ZSA9IHNlbGVjdGlvblxyXG4gICAgICAvLyBAdHMtaWdub3JlIC0gV2Uga25vdyB0aGUgbW9kYWwgaGFzIHRoaXMgcHJvcGVydHlcclxuICAgICAgbW9kYWwucmVzdWx0Lm5hbWUgPSBzZWxlY3Rpb25cclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUFuZFNhbml0aXplRmlsZU5hbWUobmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBpZiAoIWlzVmFsaWROb3RlTmFtZShuYW1lKSkge1xyXG4gICAgdGhyb3cgbmV3IExpbmtQbHVnaW5FcnJvcignSW52YWxpZCBub3RlIG5hbWUnLCBFcnJvckNvZGUuSU5WQUxJRF9OT1RFX05BTUUpXHJcbiAgfVxyXG4gIHJldHVybiBzYW5pdGl6ZUZpbGVOYW1lKG5hbWUpXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vdGVGaWxlKFxyXG4gIHBsdWdpbjogTGlua1BsdWdpbixcclxuICBmdWxsUGF0aDogc3RyaW5nLFxyXG4gIG5vdGVOYW1lOiBzdHJpbmcsXHJcbiAgb3B0aW9uczogTm90ZUNyZWF0aW9uUmVzdWx0XHJcbik6IFByb21pc2U8VEZpbGU+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZXhpc3RzID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhgJHtmdWxsUGF0aH0ubWRgKVxyXG4gICAgaWYgKGV4aXN0cykge1xyXG4gICAgICB0aHJvdyBuZXcgTGlua1BsdWdpbkVycm9yKFxyXG4gICAgICAgIGBOb3RlIFwiJHtmdWxsUGF0aH1cIiBhbHJlYWR5IGV4aXN0c2AsXHJcbiAgICAgICAgRXJyb3JDb2RlLkZJTEVfQUxSRUFEWV9FWElTVFNcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250ZW50OiBzdHJpbmdcclxuICAgIGlmIChvcHRpb25zLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgY29udGVudCA9IGF3YWl0IGNyZWF0ZURhaWx5Tm90ZUNvbnRlbnQocGx1Z2luLmFwcCwgbm90ZU5hbWUsIG9wdGlvbnMuZGF0ZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRlbnQgPSBgIyAke25vdGVOYW1lfVxcblxcbmBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoYCR7ZnVsbFBhdGh9Lm1kYCwgY29udGVudClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTGlua1BsdWdpbkVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgTGlua1BsdWdpbkVycm9yKFxyXG4gICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBub3RlIGZpbGUnLFxyXG4gICAgICBFcnJvckNvZGUuRklMRV9PUEVSQVRJT05fRkFJTEVELFxyXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiB1bmRlZmluZWRcclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURhaWx5Tm90ZUNvbnRlbnQoXHJcbiAgYXBwOiBBcHAsXHJcbiAgbm90ZU5hbWU6IHN0cmluZyxcclxuICBkYXRlPzogbW9tZW50Lk1vbWVudFxyXG4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBjb250ZW50XHJcbiAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSBgJHtCQVNFX0ZPTERFUlMuVEVNUExBVEVTfS9EYWlseSBOb3RlIFRlbXBsYXRlLm1kYFxyXG4gICAgbGV0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IGFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGVtcGxhdGVQYXRoKVxyXG5cclxuICAgIC8vIFJlcGxhY2UgZGF0ZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlXHJcbiAgICBpZiAoZGF0ZSkge1xyXG4gICAgICB0ZW1wbGF0ZUNvbnRlbnQgPSB0ZW1wbGF0ZUNvbnRlbnRcclxuICAgICAgICAucmVwbGFjZSgve3tkYXRlOllZWVktTU0tRER9fS9nLCBkYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpKVxyXG4gICAgICAgIC5yZXBsYWNlKC97e3RpbWU6SEg6bW19fS9nLCBtb21lbnQoKS5mb3JtYXQoJ0hIOm1tJykpXHJcbiAgICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgICAve3tkYXRlOmRkZGQsIE1NTU0gRCwgWVlZWX19L2csXHJcbiAgICAgICAgICBkYXRlLmZvcm1hdCgnZGRkZCwgTU1NTSBELCBZWVlZJylcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRlbXBsYXRlQ29udGVudFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIHRlbXBsYXRlOicsIGVycm9yKVxyXG4gICAgLy8gRmFsbGJhY2sgdG8gYmFzaWMgY29udGVudCBpZiB0ZW1wbGF0ZSBjYW4ndCBiZSByZWFkXHJcbiAgICByZXR1cm4gYCMgJHtub3RlTmFtZX1cXG5cXG5DcmVhdGVkOiAke21vbWVudCgpLmZvcm1hdChcclxuICAgICAgJ1lZWVktTU0tREQgSEg6bW0nXHJcbiAgICApfVxcblxcbmBcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluc2VydE5vdGVMaW5rSW5FZGl0b3IoXHJcbiAgZWRpdG9yOiBFZGl0b3IsXHJcbiAgZnVsbFBhdGg6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICB0cnkge1xyXG4gICAgLy8gRXh0cmFjdCB0aGUgZmlsZW5hbWUgd2l0aG91dCBleHRlbnNpb24gZm9yIHRoZSBkaXNwbGF5IHRleHRcclxuICAgIGNvbnN0IGRpc3BsYXlOYW1lID1cclxuICAgICAgZnVsbFBhdGguc3BsaXQoJy8nKS5wb3AoKT8ucmVwbGFjZSgnLm1kJywgJycpIHx8IGZ1bGxQYXRoXHJcbiAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihgW1ske2Z1bGxQYXRofXwke2Rpc3BsYXlOYW1lfV1dYClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IExpbmtQbHVnaW5FcnJvcihcclxuICAgICAgJ0ZhaWxlZCB0byBpbnNlcnQgbm90ZSBsaW5rJyxcclxuICAgICAgRXJyb3JDb2RlLkxJTktfSU5TRVJUSU9OX0ZBSUxFRCxcclxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogdW5kZWZpbmVkXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkTm90ZU5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIEJvb2xlYW4oXHJcbiAgICBuYW1lICYmXHJcbiAgICAgIG5hbWUubGVuZ3RoID4gMCAmJlxyXG4gICAgICBuYW1lLmxlbmd0aCA8PSAyNTUgJiZcclxuICAgICAgIW5hbWUuaW5jbHVkZXMoJy8nKSAmJlxyXG4gICAgICAhbmFtZS5pbmNsdWRlcygnXFxcXCcpXHJcbiAgKVxyXG59XHJcbiIsICJpbXBvcnQgeyBWYXVsdCB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRmlsZU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gbmFtZVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcclxuICAgIC5yZXBsYWNlKC9bXmEtejAtOS1dL2csICcnKVxyXG4gICAgLnJlcGxhY2UoLy0rL2csICctJylcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vdGUoXHJcbiAgdmF1bHQ6IFZhdWx0LFxyXG4gIGZpbGVOYW1lOiBzdHJpbmcsXHJcbiAgY29udGVudDogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGV4aXN0cyA9IGF3YWl0IHZhdWx0LmFkYXB0ZXIuZXhpc3RzKGAke2ZpbGVOYW1lfS5tZGApXHJcbiAgaWYgKGV4aXN0cykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBOb3RlIFwiJHtmaWxlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cyFgKVxyXG4gIH1cclxuICBhd2FpdCB2YXVsdC5jcmVhdGUoYCR7ZmlsZU5hbWV9Lm1kYCwgY29udGVudClcclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZywgbW9tZW50IH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IEJBU0VfRk9MREVSUyB9IGZyb20gJy4uL3V0aWxzL2ZvbGRlclV0aWxzJ1xyXG5cclxuaW50ZXJmYWNlIE5vdGVDcmVhdGlvblJlc3VsdCB7XHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZm9sZGVyOiBzdHJpbmdcclxuICBpc0Z1dHVyZURhaWx5PzogYm9vbGVhblxyXG4gIGRhdGU/OiBtb21lbnQuTW9tZW50XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdOb3RlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgcHJpdmF0ZSBvblN1Ym1pdDogKHJlc3VsdDogTm90ZUNyZWF0aW9uUmVzdWx0IHwgbnVsbCkgPT4gdm9pZFxyXG4gIHByaXZhdGUgaW5wdXRFbDogSFRNTElucHV0RWxlbWVudFxyXG4gIHByaXZhdGUgZm9sZGVyRHJvcGRvd246IFNldHRpbmdcclxuICBwcml2YXRlIHJlc3VsdDogTm90ZUNyZWF0aW9uUmVzdWx0ID0geyBuYW1lOiAnJywgZm9sZGVyOiAnJyB9XHJcbiAgcHJpdmF0ZSBpc0Z1dHVyZURhaWx5OiBib29sZWFuID0gZmFsc2VcclxuICBwcml2YXRlIGNvbnRhaW5lcnM6IHtcclxuICAgIGRhdGVQaWNrZXJDb250YWluZXI/OiBIVE1MRGl2RWxlbWVudFxyXG4gICAgbmFtZUNvbnRhaW5lcj86IEhUTUxEaXZFbGVtZW50XHJcbiAgICBmb2xkZXJDb250YWluZXI/OiBIVE1MRGl2RWxlbWVudFxyXG4gIH0gPSB7fVxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25TdWJtaXQ6IChyZXN1bHQ6IE5vdGVDcmVhdGlvblJlc3VsdCB8IG51bGwpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdFxyXG4gIH1cclxuXHJcbiAgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0NyZWF0ZSBOZXcgTm90ZScgfSlcclxuXHJcbiAgICAvLyBOb3RlIFR5cGUgU2VsZWN0aW9uXHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5zZXROYW1lKCdOb3RlIFR5cGUnKVxyXG4gICAgICAuc2V0RGVzYygnQ2hvb3NlIHRoZSB0eXBlIG9mIG5vdGUgdG8gY3JlYXRlJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdyZWd1bGFyJywgJ1JlZ3VsYXIgTm90ZScpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdmdXR1cmUnLCAnRnV0dXJlIERhaWx5IE5vdGUnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmlzRnV0dXJlRGFpbHkgPSB2YWx1ZSA9PT0gJ2Z1dHVyZSdcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNGdXR1cmVEYWlseSkge1xyXG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LmZvbGRlciA9IEJBU0VfRk9MREVSUy5KT1VSTkFMXHJcbiAgICAgICAgICAgICAgdGhpcy5mb2xkZXJEcm9wZG93bj8uY29tcG9uZW50c1swXT8uc2V0VmFsdWUoQkFTRV9GT0xERVJTLkpPVVJOQUwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNGdXR1cmVEYWlseSA9IHRoaXMuaXNGdXR1cmVEYWlseVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZvcm1WaXNpYmlsaXR5KClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gRGF0ZSBQaWNrZXIgKGluaXRpYWxseSBoaWRkZW4pXHJcbiAgICB0aGlzLmNvbnRhaW5lcnMuZGF0ZVBpY2tlckNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgdGhpcy5jb250YWluZXJzLmRhdGVQaWNrZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVycy5kYXRlUGlja2VyQ29udGFpbmVyKVxyXG4gICAgICAuc2V0TmFtZSgnRGF0ZScpXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgdGhlIGRhdGUgZm9yIHRoZSBmdXR1cmUgZGFpbHkgbm90ZScpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZVBpY2tlckVsID0gdGV4dC5pbnB1dEVsXHJcbiAgICAgICAgZGF0ZVBpY2tlckVsLnR5cGUgPSAnZGF0ZSdcclxuICAgICAgICBjb25zdCB0b21vcnJvdyA9IG1vbWVudCgpLmFkZCgxLCAnZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICBkYXRlUGlja2VyRWwudmFsdWUgPSB0b21vcnJvd1xyXG4gICAgICAgIGRhdGVQaWNrZXJFbC5taW4gPSB0b21vcnJvd1xyXG4gICAgICAgIGRhdGVQaWNrZXJFbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnJlc3VsdC5kYXRlID0gbW9tZW50KGRhdGVQaWNrZXJFbC52YWx1ZSlcclxuICAgICAgICAgIGlmICh0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQubmFtZSA9IHRoaXMucmVzdWx0LmRhdGUuZm9ybWF0KCdZWVlZLU1NLUREIGRkZGQnKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHRoaXMuaW5wdXRFbCkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0RWwudmFsdWUgPSB0aGlzLnJlc3VsdC5uYW1lXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBkYXRlXHJcbiAgICAgICAgdGhpcy5yZXN1bHQuZGF0ZSA9IG1vbWVudCh0b21vcnJvdylcclxuICAgICAgICB0aGlzLnJlc3VsdC5uYW1lID0gdGhpcy5yZXN1bHQuZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQgZGRkZCcpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gTm90ZSBOYW1lIElucHV0XHJcbiAgICB0aGlzLmNvbnRhaW5lcnMubmFtZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIpXHJcbiAgICAgIC5zZXROYW1lKCdOb3RlIE5hbWUnKVxyXG4gICAgICAuc2V0RGVzYygnRW50ZXIgdGhlIG5hbWUgZm9yIHlvdXIgbmV3IG5vdGUnKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5wdXRFbCA9IHRleHQuaW5wdXRFbFxyXG4gICAgICAgIHRleHQuaW5wdXRFbC5wbGFjZWhvbGRlciA9ICdOb3RlIG5hbWUnXHJcbiAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQubmFtZSA9IHRleHQuaW5wdXRFbC52YWx1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gRm9sZGVyIFNlbGVjdGlvblxyXG4gICAgdGhpcy5jb250YWluZXJzLmZvbGRlckNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgdGhpcy5mb2xkZXJEcm9wZG93biA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVycy5mb2xkZXJDb250YWluZXIpXHJcbiAgICAgIC5zZXROYW1lKCdMb2NhdGlvbicpXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2Ugd2hlcmUgdG8gY3JlYXRlIHRoZSBub3RlJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIC8vIEFkZCBiYXNlIGZvbGRlcnNcclxuICAgICAgICBPYmplY3QuZW50cmllcyhCQVNFX0ZPTERFUlMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKHZhbHVlLCB2YWx1ZSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICghdGhpcy5pc0Z1dHVyZURhaWx5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmZvbGRlciA9IHZhbHVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgdmFsdWVcclxuICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZShCQVNFX0ZPTERFUlMuSk9VUk5BTClcclxuICAgICAgICB0aGlzLnJlc3VsdC5mb2xkZXIgPSBCQVNFX0ZPTERFUlMuSk9VUk5BTFxyXG4gICAgICB9KVxyXG5cclxuICAgIC8vIEJ1dHRvbnNcclxuICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ2J1dHRvbi1jb250YWluZXInKVxyXG4gICAgYnV0dG9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5nYXAgPSAnMTBweCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCdcclxuXHJcbiAgICAvLyBDcmVhdGUgQnV0dG9uXHJcbiAgICBjb25zdCBjcmVhdGVCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgdGV4dDogJ0NyZWF0ZScsXHJcbiAgICAgIGNsczogJ21vZC1jdGEnXHJcbiAgICB9KVxyXG4gICAgY3JlYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIENhbmNlbCBCdXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KVxyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgdGhpcy5vblN1Ym1pdChudWxsKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBJbml0aWFsIHZpc2liaWxpdHlcclxuICAgIHRoaXMudXBkYXRlRm9ybVZpc2liaWxpdHkoKVxyXG5cclxuICAgIC8vIEZvY3VzIGlucHV0XHJcbiAgICB0aGlzLmlucHV0RWwuZm9jdXMoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVGb3JtVmlzaWJpbGl0eSgpIHtcclxuICAgIGlmICh0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgdGhpcy5jb250YWluZXJzLmRhdGVQaWNrZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgdGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICB0aGlzLmNvbnRhaW5lcnMuZm9sZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVycy5kYXRlUGlja2VyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgdGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgdGhpcy5jb250YWluZXJzLmZvbGRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgICB0aGlzLnJlc3VsdC5kYXRlID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5pc0Z1dHVyZURhaWx5KSB7XHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVzdWx0LmRhdGUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnJlc3VsdC5uYW1lICYmIHRoaXMucmVzdWx0LmZvbGRlcilcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG4gICAgY29udGVudEVsLmVtcHR5KClcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IFZhdWx0LCBBcHAsIG1vbWVudCB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFJPT1RfRk9MREVSID0gJ19MaW5rJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEJBU0VfRk9MREVSUyA9IHtcclxuICBKT1VSTkFMOiBgJHtST09UX0ZPTERFUn0vX0pvdXJuYWxgLFxyXG4gIERPQ1VNRU5UUzogYCR7Uk9PVF9GT0xERVJ9L0RvY3VtZW50c2AsXHJcbiAgVEVNUExBVEVTOiBgJHtST09UX0ZPTERFUn0vVGVtcGxhdGVzYCxcclxuICBXT1JLU1BBQ0U6IGAke1JPT1RfRk9MREVSfS9fV29ya3NwYWNlYCxcclxuICBSRUZFUkVOQ0VTOiBgJHtST09UX0ZPTERFUn0vX1JlZmVyZW5jZXNgLFxyXG4gIEFSQ0hJVkU6IGAke1JPT1RfRk9MREVSfS9BcmNoaXZlYFxyXG59IGFzIGNvbnN0XHJcblxyXG5leHBvcnQgY29uc3QgU1VCX0ZPTERFUlMgPSB7XHJcbiAgW0JBU0VfRk9MREVSUy5ET0NVTUVOVFNdOiBbJ0ltYWdlcycsICdWaWRlb3MnLCAnQXVkaW8nLCAnT3RoZXInXSxcclxuICBbQkFTRV9GT0xERVJTLlJFRkVSRU5DRVNdOiBbXHJcbiAgICAnQm9va3MvVGVjaG5vbG9neScsXHJcbiAgICAnQm9va3MvQnVzaW5lc3MnLFxyXG4gICAgJ0FydGljbGVzL0Jsb2ctUG9zdHMnLFxyXG4gICAgJ0FydGljbGVzL1Jlc2VhcmNoJyxcclxuICAgICdDb3Vyc2VzL09ubGluZScsXHJcbiAgICAnQ291cnNlcy9DZXJ0aWZpY2F0aW9ucydcclxuICBdLFxyXG4gIFtCQVNFX0ZPTERFUlMuQVJDSElWRV06IFtcclxuICAgICdDb21wbGV0ZWQtUHJvamVjdHMnLFxyXG4gICAgJ09sZC1SZWZlcmVuY2VzJyxcclxuICAgICdPbGQtVGVtcGxhdGVzJ1xyXG4gIF1cclxufSBhcyBjb25zdFxyXG5cclxuY29uc3QgREVGQVVMVF9URU1QTEFURV9DT05URU5UID0gYC0tLVxyXG5jcmVhdGVkOiB7e2RhdGU6WVlZWS1NTS1ERH19IHt7dGltZTpISDptbX19XHJcbi0tLVxyXG5cclxuIyB7e2RhdGU6ZGRkZCwgTU1NTSBELCBZWVlZfX1cclxuXHJcbiMjIFRhc2tzXHJcbi0gWyBdIFxyXG5cclxuIyMgTm90ZXNcclxuXHJcblxyXG4jIyBKb3VybmFsXHJcblxyXG5cclxuIyMgTGlua3NcclxuYFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlVGVtcGxhdGVFeGlzdHModmF1bHQ6IFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCB0ZW1wbGF0ZVBhdGggPSBgJHtCQVNFX0ZPTERFUlMuVEVNUExBVEVTfS9EYWlseSBOb3RlIFRlbXBsYXRlLm1kYFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyh0ZW1wbGF0ZVBhdGgpXHJcbiAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICBhd2FpdCB2YXVsdC5jcmVhdGUodGVtcGxhdGVQYXRoLCBERUZBVUxUX1RFTVBMQVRFX0NPTlRFTlQpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoYENyZWF0ZWQgdGVtcGxhdGUgZmlsZTogJHt0ZW1wbGF0ZVBhdGh9YClcclxuICAgIH1cclxuICAgIHJldHVybiB0ZW1wbGF0ZVBhdGhcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5zdXJpbmcgdGVtcGxhdGUgZXhpc3RzOicsIGVycm9yKVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYWlseU5vdGVzTG9jYXRpb24oYXBwOiBBcHApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKClcclxuICAgIGNvbnN0IG1vbnRoID0gbm93LmdldE1vbnRoKCkgKyAxXHJcbiAgICBjb25zdCBtb250aE5hbWUgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4tVVMnLCB7XHJcbiAgICAgIG1vbnRoOiAnc2hvcnQnXHJcbiAgICB9KS5mb3JtYXQobm93KVxyXG5cclxuICAgIGNvbnN0IHllYXJGb2xkZXIgPSBgJHtCQVNFX0ZPTERFUlMuSk9VUk5BTH0veV8ke3llYXJ9YFxyXG4gICAgY29uc3QgbW9udGhGb2xkZXIgPSBgJHt5ZWFyRm9sZGVyfS9tXyR7U3RyaW5nKG1vbnRoKS5wYWRTdGFydChcclxuICAgICAgMixcclxuICAgICAgJzAnXHJcbiAgICApfV8ke21vbnRoTmFtZX1gXHJcblxyXG4gICAgLy8gRW5zdXJlIHRoZSBmb2xkZXJzIGV4aXN0XHJcbiAgICBhd2FpdCBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhhcHAudmF1bHQsIHllYXJGb2xkZXIpXHJcbiAgICBhd2FpdCBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhhcHAudmF1bHQsIG1vbnRoRm9sZGVyKVxyXG5cclxuICAgIC8vIEVuc3VyZSB0ZW1wbGF0ZSBleGlzdHMgYW5kIGdldCBpdHMgcGF0aFxyXG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gYXdhaXQgZW5zdXJlVGVtcGxhdGVFeGlzdHMoYXBwLnZhdWx0KVxyXG5cclxuICAgIC8vIFVwZGF0ZSBPYnNpZGlhbidzIGNvcmUgZGFpbHkgbm90ZXMgc2V0dGluZ3NcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhaWx5Tm90ZXNTZXR0aW5ncyA9IGF3YWl0IGFwcC52YXVsdC5hZGFwdGVyXHJcbiAgICAgICAgLnJlYWQoJy5vYnNpZGlhbi9kYWlseS1ub3Rlcy5qc29uJylcclxuICAgICAgICAuY2F0Y2goKCkgPT4gJ3t9JylcclxuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBKU09OLnBhcnNlKGRhaWx5Tm90ZXNTZXR0aW5ncylcclxuXHJcbiAgICAgIHNldHRpbmdzLmZvbGRlciA9IG1vbnRoRm9sZGVyXHJcbiAgICAgIHNldHRpbmdzLnRlbXBsYXRlID0gdGVtcGxhdGVQYXRoXHJcbiAgICAgIHNldHRpbmdzLmZvcm1hdCA9ICdZWVlZLU1NLUREIGRkZGQnXHJcblxyXG4gICAgICBhd2FpdCBhcHAudmF1bHQuYWRhcHRlci53cml0ZShcclxuICAgICAgICAnLm9ic2lkaWFuL2RhaWx5LW5vdGVzLmpzb24nLFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLCBudWxsLCAyKVxyXG4gICAgICApXHJcblxyXG4gICAgICAvLyBJZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luIGlzIGVuYWJsZWQsIHVwZGF0ZSBpdHMgc2V0dGluZ3NcclxuICAgICAgY29uc3QgZGFpbHlOb3Rlc1BsdWdpbiA9IChhcHAgYXMgYW55KS5pbnRlcm5hbFBsdWdpbnM/LnBsdWdpbnNbXHJcbiAgICAgICAgJ2RhaWx5LW5vdGVzJ1xyXG4gICAgICBdXHJcbiAgICAgIGlmIChkYWlseU5vdGVzUGx1Z2luPy5lbmFibGVkKSB7XHJcbiAgICAgICAgZGFpbHlOb3Rlc1BsdWdpbi5pbnN0YW5jZS5vcHRpb25zID0gc2V0dGluZ3NcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZGFpbHkgbm90ZXMgc2V0dGluZ3M6JywgZXJyb3IpXHJcbiAgICAgIC8vIENvbnRpbnVlIGV4ZWN1dGlvbiBldmVuIGlmIHNldHRpbmdzIHVwZGF0ZSBmYWlsc1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtb250aEZvbGRlclxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkYWlseSBub3RlcyBsb2NhdGlvbjonLCBlcnJvcilcclxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBkYWlseSBub3RlcyBsb2NhdGlvbicpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlRm9sZGVyU3RydWN0dXJlKGFwcDogQXBwKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENyZWF0ZSByb290IGZvbGRlciBmaXJzdFxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBST09UX0ZPTERFUilcclxuXHJcbiAgICAvLyBDcmVhdGUgYmFzZSBmb2xkZXJzXHJcbiAgICBmb3IgKGNvbnN0IGZvbGRlciBvZiBPYmplY3QudmFsdWVzKEJBU0VfRk9MREVSUykpIHtcclxuICAgICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBmb2xkZXIpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIHN1Yi1mb2xkZXJzXHJcbiAgICBmb3IgKGNvbnN0IFtiYXNlRm9sZGVyLCBzdWJGb2xkZXJzXSBvZiBPYmplY3QuZW50cmllcyhTVUJfRk9MREVSUykpIHtcclxuICAgICAgZm9yIChjb25zdCBzdWJGb2xkZXIgb2Ygc3ViRm9sZGVycykge1xyXG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gYCR7YmFzZUZvbGRlcn0vJHtzdWJGb2xkZXJ9YFxyXG4gICAgICAgIGF3YWl0IGNyZWF0ZUZvbGRlcklmTm90RXhpc3RzKGFwcC52YXVsdCwgZnVsbFBhdGgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgZGFpbHkgbm90ZXMgbG9jYXRpb25cclxuICAgIGF3YWl0IHVwZGF0ZURhaWx5Tm90ZXNMb2NhdGlvbihhcHApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuc3VyaW5nIGZvbGRlciBzdHJ1Y3R1cmU6JywgZXJyb3IpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgZm9sZGVyIHN0cnVjdHVyZScpXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhcclxuICB2YXVsdDogVmF1bHQsXHJcbiAgcGF0aDogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyhwYXRoKVxyXG4gICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKHBhdGgpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoYENyZWF0ZWQgZm9sZGVyOiAke3BhdGh9YClcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgY3JlYXRpbmcgZm9sZGVyICR7cGF0aH06YCwgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZ1dHVyZURhaWx5Tm90ZUZvbGRlcihcclxuICBhcHA6IEFwcCxcclxuICBkYXRlOiBtb21lbnQuTW9tZW50XHJcbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLnllYXIoKVxyXG4gICAgY29uc3QgbW9udGggPSBkYXRlLm1vbnRoKCkgKyAxIC8vIG1vbWVudCBtb250aHMgYXJlIDAtYmFzZWRcclxuICAgIGNvbnN0IG1vbnRoTmFtZSA9IGRhdGUuZm9ybWF0KCdNTU0nKVxyXG5cclxuICAgIGNvbnN0IHllYXJGb2xkZXIgPSBgJHtCQVNFX0ZPTERFUlMuSk9VUk5BTH0veV8ke3llYXJ9YFxyXG4gICAgY29uc3QgbW9udGhGb2xkZXIgPSBgJHt5ZWFyRm9sZGVyfS9tXyR7U3RyaW5nKG1vbnRoKS5wYWRTdGFydChcclxuICAgICAgMixcclxuICAgICAgJzAnXHJcbiAgICApfV8ke21vbnRoTmFtZX1gXHJcblxyXG4gICAgLy8gQ3JlYXRlIGZvbGRlcnMgaWYgdGhleSBkb24ndCBleGlzdFxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCB5ZWFyRm9sZGVyKVxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBtb250aEZvbGRlcilcclxuXHJcbiAgICByZXR1cm4gbW9udGhGb2xkZXJcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZnV0dXJlIGRhaWx5IG5vdGUgZm9sZGVyOicsIGVycm9yKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGZ1dHVyZSBkYWlseSBub3RlIGZvbGRlcicpXHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbidcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5rUGx1Z2luRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBtZXNzYWdlOiBzdHJpbmcsXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29kZTogRXJyb3JDb2RlLFxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbmFsRXJyb3I/OiBFcnJvclxyXG4gICkge1xyXG4gICAgc3VwZXIobWVzc2FnZSlcclxuICAgIHRoaXMubmFtZSA9ICdMaW5rUGx1Z2luRXJyb3InXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBFcnJvckNvZGUge1xyXG4gIEZJTEVfQ1JFQVRJT05fRkFJTEVEID0gJ0ZJTEVfQ1JFQVRJT05fRkFJTEVEJyxcclxuICBJTlZBTElEX0ZJTEVOQU1FID0gJ0lOVkFMSURfRklMRU5BTUUnLFxyXG4gIEZJTEVfRVhJU1RTID0gJ0ZJTEVfRVhJU1RTJyxcclxuICBMSU5LX0lOU0VSVElPTl9GQUlMRUQgPSAnTElOS19JTlNFUlRJT05fRkFJTEVEJyxcclxuICBJTlZBTElEX05PVEVfTkFNRSA9ICdJTlZBTElEX05PVEVfTkFNRScsXHJcbiAgRklMRV9BTFJFQURZX0VYSVNUUyA9ICdGSUxFX0FMUkVBRFlfRVhJU1RTJyxcclxuICBGSUxFX09QRVJBVElPTl9GQUlMRUQgPSAnRklMRV9PUEVSQVRJT05fRkFJTEVEJ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUGx1Z2luRXJyb3IoZXJyb3I6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IG5ldmVyIHtcclxuICBjb25zdCBwbHVnaW5FcnJvciA9IGVuc3VyZVBsdWdpbkVycm9yKGVycm9yLCBjb250ZXh0KVxyXG5cclxuICAvLyBMb2cgZXJyb3IgZm9yIGRlYnVnZ2luZ1xyXG4gIGNvbnNvbGUuZXJyb3IoYFtMaW5rIFBsdWdpbl0gJHtjb250ZXh0fTpgLCBwbHVnaW5FcnJvcilcclxuXHJcbiAgLy8gU2hvdyB1c2VyLWZyaWVuZGx5IG5vdGljZVxyXG4gIG5ldyBOb3RpY2UoYExpbmsgUGx1Z2luOiAke3BsdWdpbkVycm9yLm1lc3NhZ2V9YClcclxuXHJcbiAgdGhyb3cgcGx1Z2luRXJyb3JcclxufVxyXG5cclxuZnVuY3Rpb24gZW5zdXJlUGx1Z2luRXJyb3IoZXJyb3I6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IExpbmtQbHVnaW5FcnJvciB7XHJcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgTGlua1BsdWdpbkVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3JcclxuICB9XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcclxuICByZXR1cm4gbmV3IExpbmtQbHVnaW5FcnJvcihcclxuICAgIGAke2NvbnRleHR9OiAke21lc3NhZ2V9YCxcclxuICAgIEVycm9yQ29kZS5GSUxFX0NSRUFUSU9OX0ZBSUxFRCxcclxuICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IHVuZGVmaW5lZFxyXG4gIClcclxufVxyXG4iLCAiZXhwb3J0IGludGVyZmFjZSBMaW5rUGx1Z2luU2V0dGluZ3Mge1xyXG4gIGRlZmF1bHRMaW5rU3R5bGU6IHN0cmluZ1xyXG4gIGF1dG9Gb3JtYXRMaW5rczogYm9vbGVhblxyXG4gIGRhaWx5Tm90ZXNMb2NhdGlvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBMaW5rUGx1Z2luU2V0dGluZ3MgPSB7XHJcbiAgZGVmYXVsdExpbmtTdHlsZTogJ21hcmtkb3duJyxcclxuICBhdXRvRm9ybWF0TGlua3M6IHRydWUsXHJcbiAgZGFpbHlOb3Rlc0xvY2F0aW9uOiAnJ1xyXG59XHJcbiIsICIvKipcclxuICogQGZpbGUgYmFzZU1vZGFsLnRzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNb2RhbEl0ZW0ge1xyXG4gIHRpdGxlOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUGx1Z2luTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgIHN1cGVyKGFwcClcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IHJlbmRlckNvbnRlbnQoKTogdm9pZFxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG4gICAgY29udGVudEVsLmVtcHR5KClcclxuICAgIHRoaXMucmVuZGVyQ29udGVudCgpXHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpXHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgY3JlYXRlU2VjdGlvbih0aXRsZTogc3RyaW5nLCBpdGVtczogTW9kYWxJdGVtW10pIHtcclxuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdoZWxwLXNlY3Rpb24nIH0pXHJcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdGl0bGUgfSlcclxuXHJcbiAgICBjb25zdCBsaXN0ID0gc2VjdGlvbi5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdoZWxwLWxpc3QnIH0pXHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbCA9IGxpc3QuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnaGVscC1pdGVtJyB9KVxyXG4gICAgICBpdGVtRWwuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiBpdGVtLnRpdGxlIH0pXHJcbiAgICAgIGl0ZW1FbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogaXRlbS5kZXNjcmlwdGlvbiB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBhZGRBY3Rpb25CdXR0b25zKFxyXG4gICAgYWN0aW9uczogQXJyYXk8e1xyXG4gICAgICB0ZXh0OiBzdHJpbmdcclxuICAgICAgaXNDdGE/OiBib29sZWFuXHJcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuICAgIH0+XHJcbiAgKSB7XHJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRlbnRFbClcclxuXHJcbiAgICBhY3Rpb25zLmZvckVhY2goKHsgdGV4dCwgaXNDdGEsIG9uQ2xpY2sgfSkgPT4ge1xyXG4gICAgICBidXR0b25Db250YWluZXIuYWRkQnV0dG9uKChidG4pID0+IHtcclxuICAgICAgICBidG4uc2V0QnV0dG9uVGV4dCh0ZXh0KVxyXG4gICAgICAgIGlmIChpc0N0YSkgYnRuLnNldEN0YSgpXHJcbiAgICAgICAgYnRuLm9uQ2xpY2sob25DbGljaylcclxuICAgICAgICByZXR1cm4gYnRuXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IEJhc2VQbHVnaW5Nb2RhbCwgTW9kYWxJdGVtIH0gZnJvbSAnLi9iYXNlTW9kYWwnXHJcblxyXG5leHBvcnQgY2xhc3MgSGVscE1vZGFsIGV4dGVuZHMgQmFzZVBsdWdpbk1vZGFsIHtcclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4gICAgc3VwZXIoYXBwKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ29udGVudCgpIHtcclxuICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xpbmsgUGx1Z2luIEhlbHAnIH0pXHJcblxyXG4gICAgLy8gQ29yZSBmZWF0dXJlcyBzZWN0aW9uXHJcbiAgICB0aGlzLmNyZWF0ZVNlY3Rpb24oJ0NvcmUgRmVhdHVyZXMnLCBbXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ1x1RDgzRFx1RENERCBDcmVhdGluZyBMaW5rZWQgTm90ZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgJ0VudGVyIGEgbmFtZSBmb3IgeW91ciBuZXcgbm90ZSBpbiB0aGUgcG9wdXAgZGlhbG9nIHRvIGNyZWF0ZSBhIGxpbmtlZCBub3RlLidcclxuICAgICAgfVxyXG4gICAgXSlcclxuXHJcbiAgICAvLyBTZXR0aW5ncyBzZWN0aW9uXHJcbiAgICB0aGlzLmNyZWF0ZVNlY3Rpb24oJ1NldHRpbmdzJywgW1xyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdcdTI2OTlcdUZFMEYgUGx1Z2luIFNldHRpbmdzJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdBY2Nlc3Mgc2V0dGluZ3MgdmlhIFNldHRpbmdzID4gTGluayBQbHVnaW4gdG8gY3VzdG9taXplOlxcbi0gRGVmYXVsdCBsaW5rIHN0eWxlIChXaWtpIG9yIE1hcmtkb3duKVxcbi0gQXV0by1mb3JtYXQgbGlua3MgdG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICBdKVxyXG5cclxuICAgIC8vIEFkZCBhY3Rpb24gYnV0dG9uc1xyXG4gICAgdGhpcy5hZGRBY3Rpb25CdXR0b25zKFtcclxuICAgICAge1xyXG4gICAgICAgIHRleHQ6ICdPcGVuIFNldHRpbmdzJyxcclxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgIHRoaXMuYXBwLnNldHRpbmcub3BlblRhYkJ5SWQoJ29ic2lkaWFuLWxpbmstcGx1Z2luJylcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0ZXh0OiAnQ2xvc2UnLFxyXG4gICAgICAgIGlzQ3RhOiB0cnVlLFxyXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY2xvc2UoKVxyXG4gICAgICB9XHJcbiAgICBdKVxyXG4g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LENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEsZ0RBQWdELEVBQ3hEO0FBQUEsTUFBVSxDQUFDLFdBQ1YsT0FDRyxTQUFTLEtBQUssT0FBTyxTQUFTLGVBQWUsRUFDN0MsU0FBUyxPQUFPLFVBQVU7QUFDekIsYUFBSyxPQUFPLFNBQVMsa0JBQWtCO0FBQ3ZDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLE1BQU0sRUFDZCxRQUFRLDZCQUE2QixFQUNyQztBQUFBLE1BQVUsQ0FBQyxRQUNWLElBQ0csY0FBYyxXQUFXLEVBQ3pCLE9BQU8sRUFDUCxRQUFRLE1BQU07QUFDYixZQUFJLFVBQVUsS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQy9CLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFDSjtBQUNGOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
