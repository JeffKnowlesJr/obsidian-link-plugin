/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LinkPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// src/commands/createLinkedNote.ts
var import_obsidian4 = require("obsidian");

// src/utils/fileUtils.ts
function sanitizeFileName(name) {
  return name.toLowerCase().replace(/\s+/g, "-").replace(/[^a-z0-9-]/g, "").replace(/-+/g, "-");
}

// src/modals/newNoteModal.ts
var import_obsidian2 = require("obsidian");

// src/utils/folderUtils.ts
var import_obsidian = require("obsidian");
var ROOT_FOLDER = "_Link";
var BASE_FOLDERS = {
  JOURNAL: `${ROOT_FOLDER}/_Journal`,
  DOCUMENTS: `${ROOT_FOLDER}/Documents`,
  TEMPLATES: `${ROOT_FOLDER}/Templates`,
  WORKSPACE: `${ROOT_FOLDER}/_Workspace`,
  REFERENCES: `${ROOT_FOLDER}/_References`,
  ARCHIVE: `${ROOT_FOLDER}/Archive`
};
var SUB_FOLDERS = {
  [BASE_FOLDERS.DOCUMENTS]: ["Images", "Videos", "Audio", "Other"],
  [BASE_FOLDERS.REFERENCES]: [
    "Books/Technology",
    "Books/Business",
    "Articles/Blog-Posts",
    "Articles/Research",
    "Courses/Online",
    "Courses/Certifications"
  ],
  [BASE_FOLDERS.ARCHIVE]: [
    "Completed-Projects",
    "Old-References",
    "Old-Templates"
  ]
};
var DEFAULT_TEMPLATE_CONTENT = `---
previous: ''
next: ''
tags: []
resources: []
stakeholders: []
---

## Routine Checklist

- [ ] **Daily Checks**

  - [ ] Bed and Clothes \u{1F6CF}\uFE0F\u{1F9FA}
  - [ ] Self Care\u{1F6C0}\u{1F9F4}
  - [ ] Clean Kitchen \u{1F37D}\u2728
  - [ ] Pet Care \u{1F415}\u{1F6B6}\u{1F3FB}\u200D\u2642\uFE0F
  - [ ] Get Focused \u{1F5A5}\uFE0F\u{1F48A}

- [ ] **Technology Check**
  - [ ] Wear Watch \u231A\uFE0F
  - [ ] Manage [Calendar](https://calendar.google.com) \u{1F4C6}
  - [ ] Check [Mail](https://mail.google.com) \u2709\uFE0F
  - [ ] Review [[December Log]] \u{1F5D3}\uFE0F
  - [ ] Review [[December List]] \u2705

---

## Log

### To Do

- [ ]

### Stream

>

### Events

-

### Work

- ***

## Daily Planning Tips

1. **Set Clear Goals**: Identify three major tasks (\u{1F7E9}\u{1F7E8}\u{1F7E5}), prioritizing one high-impact task (\u{1F7E5}).
2. **Break Down Tasks**: Divide projects into manageable, specific steps.
3. **Use Focus Sessions**: 40 mins work + 10 mins review/break.
4. **Prioritize Early**: Start with critical tasks for peak productivity.
5. **End with Review**: Reflect on accomplishments; outline tomorrow's goals.
6. **Limit Distractions**: Turn off notifications; avoid multitasking.
7. **Organize Visually**: Use Obsidian as a "second brain" reference.
8. **Plan Extra Time**: Buffer for complex tasks to avoid rushing.
9. **Weekly Review**: Adjust goals based on progress and priorities.

### Tip

Incorporate one of these each day to build a strong, consistent planning habit.

---

## Challenges

`;
async function ensureTemplateExists(vault) {
  const templatePath = `${BASE_FOLDERS.TEMPLATES}/Daily Note Template.md`;
  try {
    const exists = await vault.adapter.exists(templatePath);
    if (!exists) {
      await vault.create(templatePath, DEFAULT_TEMPLATE_CONTENT);
      console.debug(`Created template file: ${templatePath}`);
    }
    return templatePath;
  } catch (error) {
    console.error("Error ensuring template exists:", error);
    throw error;
  }
}
async function updateDailyNotesLocation(app) {
  var _a;
  try {
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;
    const monthName = new Intl.DateTimeFormat("en-US", {
      month: "short"
    }).format(now);
    const yearFolder = `${BASE_FOLDERS.JOURNAL}/y_${year}`;
    const monthFolder = `${yearFolder}/m_${String(month).padStart(
      2,
      "0"
    )}_${monthName}`;
    await createFolderIfNotExists(app.vault, yearFolder);
    await createFolderIfNotExists(app.vault, monthFolder);
    const templatePath = await ensureTemplateExists(app.vault);
    try {
      const dailyNotesSettings = await app.vault.adapter.read(".obsidian/daily-notes.json").catch(() => "{}");
      const settings = JSON.parse(dailyNotesSettings);
      settings.folder = monthFolder;
      settings.template = templatePath;
      settings.format = "YYYY-MM-DD dddd";
      await app.vault.adapter.write(
        ".obsidian/daily-notes.json",
        JSON.stringify(settings, null, 2)
      );
      const dailyNotesPlugin = (_a = app.internalPlugins) == null ? void 0 : _a.plugins["daily-notes"];
      if (dailyNotesPlugin == null ? void 0 : dailyNotesPlugin.enabled) {
        dailyNotesPlugin.instance.options = settings;
      }
    } catch (error) {
      console.error("Error updating daily notes settings:", error);
    }
    return monthFolder;
  } catch (error) {
    console.error("Error updating daily notes location:", error);
    throw new Error("Failed to update daily notes location");
  }
}
async function ensureFolderStructure(app) {
  try {
    await createFolderIfNotExists(app.vault, ROOT_FOLDER);
    for (const folder of Object.values(BASE_FOLDERS)) {
      await createFolderIfNotExists(app.vault, folder);
    }
    for (const [baseFolder, subFolders] of Object.entries(SUB_FOLDERS)) {
      for (const subFolder of subFolders) {
        const fullPath = `${baseFolder}/${subFolder}`;
        await createFolderIfNotExists(app.vault, fullPath);
      }
    }
    await updateDailyNotesLocation(app);
  } catch (error) {
    console.error("Error ensuring folder structure:", error);
    throw new Error("Failed to create folder structure");
  }
}
async function createFolderIfNotExists(vault, path) {
  try {
    const exists = await vault.adapter.exists(path);
    if (!exists) {
      await vault.createFolder(path);
      console.debug(`Created folder: ${path}`);
    }
  } catch (error) {
    console.error(`Error creating folder ${path}:`, error);
    throw error;
  }
}
async function ensureFutureDailyNoteFolder(app, date) {
  try {
    const year = date.year();
    const month = date.month() + 1;
    const monthName = date.format("MMM");
    const yearFolder = `${BASE_FOLDERS.JOURNAL}/y_${year}`;
    const monthFolder = `${yearFolder}/m_${String(month).padStart(
      2,
      "0"
    )}_${monthName}`;
    await createFolderIfNotExists(app.vault, yearFolder);
    await createFolderIfNotExists(app.vault, monthFolder);
    return monthFolder;
  } catch (error) {
    console.error("Error creating future daily note folder:", error);
    throw new Error("Failed to create future daily note folder");
  }
}
async function createDailyNoteContent(app, noteName, date) {
  try {
    const templatePath = `${BASE_FOLDERS.TEMPLATES}/Daily Note Template.md`;
    let templateContent = await app.vault.adapter.read(templatePath);
    if (date) {
      const prevDate = (0, import_obsidian.moment)(date).subtract(1, "day");
      const nextDate = (0, import_obsidian.moment)(date).add(1, "day");
      const prevLink = `${prevDate.format("YYYY-MM-DD")} ${prevDate.format(
        "dddd"
      )}`;
      const nextLink = `${nextDate.format("YYYY-MM-DD")} ${nextDate.format(
        "dddd"
      )}`;
      templateContent = templateContent.replace(/previous: ''/g, `previous: '[[${prevLink}]]'`).replace(/next: ''/g, `next: '[[${nextLink}]]'`).replace(/{{date:YYYY-MM-DD}}/g, date.format("YYYY-MM-DD")).replace(/{{time:HH:mm}}/g, (0, import_obsidian.moment)().format("HH:mm")).replace(
        /{{date:dddd, MMMM D, YYYY}}/g,
        date.format("dddd, MMMM D, YYYY")
      );
      const monthName = date.format("MMMM");
      templateContent = templateContent.replace(/\[\[December Log\]\]/g, `[[${monthName} Log]]`).replace(/\[\[December List\]\]/g, `[[${monthName} List]]`);
    }
    return templateContent;
  } catch (error) {
    console.error("Error reading template:", error);
    return `# ${noteName}

Created: ${(0, import_obsidian.moment)().format(
      "YYYY-MM-DD HH:mm"
    )}

`;
  }
}

// src/modals/newNoteModal.ts
var NewNoteModal = class extends import_obsidian2.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.result = { name: "", folder: "" };
    this.isFutureDaily = false;
    this.containers = {};
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Create New Note" });
    new import_obsidian2.Setting(contentEl).setName("Note Type").setDesc("Choose the type of note to create").addDropdown((dropdown) => {
      dropdown.addOption("regular", "Regular Note").addOption("future", "Future Daily Note").onChange((value) => {
        var _a, _b;
        this.isFutureDaily = value === "future";
        if (this.isFutureDaily) {
          this.result.folder = BASE_FOLDERS.JOURNAL;
          (_b = (_a = this.folderDropdown) == null ? void 0 : _a.components[0]) == null ? void 0 : _b.setValue(BASE_FOLDERS.JOURNAL);
        }
        this.result.isFutureDaily = this.isFutureDaily;
        this.updateFormVisibility();
      });
    });
    this.containers.datePickerContainer = contentEl.createDiv();
    this.containers.datePickerContainer.style.display = "none";
    new import_obsidian2.Setting(this.containers.datePickerContainer).setName("Date").setDesc("Choose the date for the future daily note").addText((text) => {
      const datePickerEl = text.inputEl;
      datePickerEl.type = "date";
      const tomorrow = (0, import_obsidian2.moment)().add(1, "day").format("YYYY-MM-DD");
      datePickerEl.value = tomorrow;
      datePickerEl.min = tomorrow;
      datePickerEl.addEventListener("change", () => {
        this.result.date = (0, import_obsidian2.moment)(datePickerEl.value);
        if (this.isFutureDaily) {
          this.result.name = this.result.date.format("YYYY-MM-DD dddd");
        }
        if (this.inputEl) {
          this.inputEl.value = this.result.name;
        }
      });
      this.result.date = (0, import_obsidian2.moment)(tomorrow);
      this.result.name = this.result.date.format("YYYY-MM-DD dddd");
    });
    this.containers.nameContainer = contentEl.createDiv();
    new import_obsidian2.Setting(this.containers.nameContainer).setName("Note Name").setDesc("Enter the name for your new note").addText((text) => {
      this.inputEl = text.inputEl;
      text.inputEl.placeholder = "Note name";
      text.inputEl.addEventListener("input", () => {
        if (!this.isFutureDaily) {
          this.result.name = text.inputEl.value;
        }
      });
      text.inputEl.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && this.isValid()) {
          this.close();
          this.onSubmit(this.result);
        }
      });
    });
    this.containers.folderContainer = contentEl.createDiv();
    this.folderDropdown = new import_obsidian2.Setting(this.containers.folderContainer).setName("Location").setDesc("Choose where to create the note").addDropdown((dropdown) => {
      Object.entries(BASE_FOLDERS).forEach(([key, value]) => {
        dropdown.addOption(value, value);
      });
      dropdown.onChange((value) => {
        if (!this.isFutureDaily) {
          this.result.folder = value;
        }
      });
      dropdown.setValue(BASE_FOLDERS.JOURNAL);
      this.result.folder = BASE_FOLDERS.JOURNAL;
    });
    const buttonDiv = contentEl.createDiv("button-container");
    buttonDiv.style.display = "flex";
    buttonDiv.style.justifyContent = "flex-end";
    buttonDiv.style.gap = "10px";
    buttonDiv.style.marginTop = "20px";
    const createButton = buttonDiv.createEl("button", {
      text: "Create",
      cls: "mod-cta"
    });
    createButton.addEventListener("click", () => {
      if (this.isValid()) {
        this.close();
        this.onSubmit(this.result);
      }
    });
    const cancelButton = buttonDiv.createEl("button", { text: "Cancel" });
    cancelButton.addEventListener("click", () => {
      this.close();
      this.onSubmit(null);
    });
    this.updateFormVisibility();
    this.inputEl.focus();
  }
  updateFormVisibility() {
    if (this.isFutureDaily) {
      this.containers.datePickerContainer.style.display = "block";
      this.containers.nameContainer.style.display = "none";
      this.containers.folderContainer.style.display = "none";
    } else {
      this.containers.datePickerContainer.style.display = "none";
      this.containers.nameContainer.style.display = "block";
      this.containers.folderContainer.style.display = "block";
      this.result.date = void 0;
    }
  }
  isValid() {
    if (this.isFutureDaily) {
      return Boolean(this.result.date);
    }
    return Boolean(this.result.name && this.result.folder);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/utils/errorHandler.ts
var import_obsidian3 = require("obsidian");
var LinkPluginError = class extends Error {
  constructor(message, code, originalError) {
    super(message);
    this.code = code;
    this.originalError = originalError;
    this.name = "LinkPluginError";
  }
};
function handlePluginError(error, context) {
  const pluginError = ensurePluginError(error, context);
  console.error(`[Link Plugin] ${context}:`, pluginError);
  new import_obsidian3.Notice(`Link Plugin: ${pluginError.message}`);
  throw pluginError;
}
function ensurePluginError(error, context) {
  if (error instanceof LinkPluginError) {
    return error;
  }
  const message = error instanceof Error ? error.message : String(error);
  return new LinkPluginError(
    `${context}: ${message}`,
    "FILE_CREATION_FAILED" /* FILE_CREATION_FAILED */,
    error instanceof Error ? error : void 0
  );
}

// src/commands/createLinkedNote.ts
async function createLinkedNote(plugin, editor) {
  try {
    const result = await getNoteName(editor, plugin);
    if (!result) {
      return;
    }
    let { name: noteName, folder } = result;
    if (result.isFutureDaily && result.date) {
      folder = await ensureFutureDailyNoteFolder(plugin.app, result.date);
    }
    const fileName = await validateAndSanitizeFileName(noteName);
    const fullPath = `${folder}/${fileName}`;
    const newNote = await createNoteFile(plugin, fullPath, noteName, result);
    const linkPath = fullPath.replace(`${ROOT_FOLDER}/`, "");
    await insertNoteLinkInEditor(editor, linkPath);
    new import_obsidian4.Notice(`Created new note: ${linkPath}`);
  } catch (error) {
    handlePluginError(error, "Failed to create linked note");
  }
}
async function getNoteName(editor, plugin) {
  const selection = editor.getSelection();
  return new Promise((resolve) => {
    const modal = new NewNoteModal(plugin.app, (result) => {
      if (result) {
        resolve(result);
      } else {
        resolve(null);
      }
    });
    modal.open();
    if (selection) {
      modal.inputEl.value = selection;
      modal.result.name = selection;
    }
  });
}
async function validateAndSanitizeFileName(name) {
  if (!isValidNoteName(name)) {
    throw new LinkPluginError("Invalid note name", "INVALID_NOTE_NAME" /* INVALID_NOTE_NAME */);
  }
  return sanitizeFileName(name);
}
async function createNoteFile(plugin, fullPath, noteName, options) {
  try {
    const exists = await plugin.app.vault.adapter.exists(`${fullPath}.md`);
    if (exists) {
      throw new LinkPluginError(
        `Note "${fullPath}" already exists`,
        "FILE_ALREADY_EXISTS" /* FILE_ALREADY_EXISTS */
      );
    }
    let content;
    if (options.isFutureDaily) {
      content = await createDailyNoteContent2(plugin.app, noteName, options.date);
    } else {
      content = `# ${noteName}

`;
    }
    return await plugin.app.vault.create(`${fullPath}.md`, content);
  } catch (error) {
    if (error instanceof LinkPluginError) {
      throw error;
    }
    throw new LinkPluginError(
      "Failed to create note file",
      "FILE_OPERATION_FAILED" /* FILE_OPERATION_FAILED */,
      error instanceof Error ? error : void 0
    );
  }
}
async function createDailyNoteContent2(app, noteName, date) {
  try {
    const templatePath = `${BASE_FOLDERS.TEMPLATES}/Daily Note Template.md`;
    let templateContent = await app.vault.adapter.read(templatePath);
    if (date) {
      const prevDate = (0, import_obsidian4.moment)(date).subtract(1, "day");
      const nextDate = (0, import_obsidian4.moment)(date).add(1, "day");
      const prevLink = `${prevDate.format("YYYY-MM-DD")} ${prevDate.format(
        "dddd"
      )}`;
      const nextLink = `${nextDate.format("YYYY-MM-DD")} ${nextDate.format(
        "dddd"
      )}`;
      templateContent = templateContent.replace(/previous: ''/g, `previous: '[[${prevLink}]]'`).replace(/next: ''/g, `next: '[[${nextLink}]]'`).replace(/{{date:YYYY-MM-DD}}/g, date.format("YYYY-MM-DD")).replace(/{{time:HH:mm}}/g, (0, import_obsidian4.moment)().format("HH:mm")).replace(
        /{{date:dddd, MMMM D, YYYY}}/g,
        date.format("dddd, MMMM D, YYYY")
      );
      const monthName = date.format("MMMM");
      templateContent = templateContent.replace(/\[\[December Log\]\]/g, `[[${monthName} Log]]`).replace(/\[\[December List\]\]/g, `[[${monthName} List]]`);
    }
    return templateContent;
  } catch (error) {
    console.error("Error reading template:", error);
    return `# ${noteName}

Created: ${(0, import_obsidian4.moment)().format(
      "YYYY-MM-DD HH:mm"
    )}

`;
  }
}
async function insertNoteLinkInEditor(editor, fullPath) {
  var _a;
  try {
    const displayName = ((_a = fullPath.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || fullPath;
    editor.replaceSelection(`[[${fullPath}|${displayName}]]`);
  } catch (error) {
    throw new LinkPluginError(
      "Failed to insert note link",
      "LINK_INSERTION_FAILED" /* LINK_INSERTION_FAILED */,
      error instanceof Error ? error : void 0
    );
  }
}
function isValidNoteName(name) {
  return Boolean(
    name && name.length > 0 && name.length <= 255 && !name.includes("/") && !name.includes("\\")
  );
}

// src/settings/settings.ts
var DEFAULT_SETTINGS = {
  defaultLinkStyle: "markdown",
  autoFormatLinks: true,
  dailyNotesLocation: "",
  autoRevealFile: true
};

// src/modals/baseModal.ts
var import_obsidian5 = require("obsidian");
var BasePluginModal = class extends import_obsidian5.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.renderContent();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  createSection(title, items) {
    const section = this.contentEl.createEl("div", { cls: "help-section" });
    section.createEl("h3", { text: title });
    const list = section.createEl("div", { cls: "help-list" });
    items.forEach((item) => {
      const itemEl = list.createEl("div", { cls: "help-item" });
      itemEl.createEl("h4", { text: item.title });
      itemEl.createEl("p", { text: item.description });
    });
  }
  addActionButtons(actions) {
    const buttonContainer = new import_obsidian5.Setting(this.contentEl);
    actions.forEach(({ text, isCta, onClick }) => {
      buttonContainer.addButton((btn) => {
        btn.setButtonText(text);
        if (isCta)
          btn.setCta();
        btn.onClick(onClick);
        return btn;
      });
    });
  }
};

// src/modals/helpModal.ts
var HelpModal = class extends BasePluginModal {
  constructor(app) {
    super(app);
  }
  renderContent() {
    this.contentEl.createEl("h2", { text: "Link Plugin Help" });
    this.createSection("Core Features", [
      {
        title: "\u{1F4DD} Creating Linked Notes",
        description: "Enter a name for your new note in the popup dialog to create a linked note."
      }
    ]);
    this.createSection("Settings", [
      {
        title: "\u2699\uFE0F Plugin Settings",
        description: "Access settings via Settings > Link Plugin to customize:\n- Default link style (Wiki or Markdown)\n- Auto-format links toggle"
      }
    ]);
    this.addActionButtons([
      {
        text: "Open Settings",
        onClick: () => {
          this.close();
          this.app.setting.openTabById("obsidian-link-plugin");
        }
      },
      {
        text: "Close",
        isCta: true,
        onClick: () => this.close()
      }
    ]);
  }
};

// src/main.ts
var ConfirmationModal = class extends import_obsidian6.Modal {
  constructor(app, onConfirm) {
    super(app);
    this.onConfirm = onConfirm;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Regenerate Folder Structure?" });
    contentEl.createEl("p", {
      text: `The ${ROOT_FOLDER} folder has been deleted. Would you like to regenerate the folder structure?`
    });
    const buttonContainer = contentEl.createDiv("button-container");
    buttonContainer.style.display = "flex";
    buttonContainer.style.justifyContent = "flex-end";
    buttonContainer.style.gap = "10px";
    buttonContainer.style.marginTop = "20px";
    const confirmButton = buttonContainer.createEl("button", {
      text: "Yes, regenerate",
      cls: "mod-cta"
    });
    confirmButton.addEventListener("click", async () => {
      this.close();
      this.onConfirm();
    });
    const cancelButton = buttonContainer.createEl("button", {
      text: "No, keep it deleted"
    });
    cancelButton.addEventListener("click", () => {
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LinkPlugin = class extends import_obsidian6.Plugin {
  async onload() {
    try {
      console.group("Link Plugin Loading");
      console.debug("Starting plugin initialization...");
      console.time("Plugin Load Time");
      console.debug("Loading plugin settings...");
      await this.loadSettings();
      console.debug("Settings loaded successfully:", this.settings);
      console.debug("Ensuring folder structure...");
      try {
        await ensureFolderStructure(this.app);
        const newLocation = await updateDailyNotesLocation(this.app);
        this.settings.dailyNotesLocation = newLocation;
        await this.saveSettings();
        console.debug("Folder structure verified/created successfully");
      } catch (error) {
        console.error("Error ensuring folder structure:", error);
        new import_obsidian6.Notice(
          "Error creating folder structure. Check console for details."
        );
      }
      this.app.workspace.onLayoutReady(() => {
        this.patchDailyNotes();
      });
      this.registerEvent(
        // @ts-ignore - The type definitions are incomplete
        this.app.vault.on("create", async (file) => {
          if (this.isDailyNote(file)) {
            await this.enhanceDailyNote(file);
          }
        })
      );
      this.registerEvent(
        this.app.workspace.on("file-create", async (file) => {
          if (this.isDailyNote(file)) {
            await this.enhanceDailyNote(file);
          }
        })
      );
      this.registerEvent(
        this.app.workspace.on("file-open", (file) => {
          if (this.settings.autoRevealFile && file) {
            this.revealFileInExplorer(file);
          }
        })
      );
      this.registerRootFolderCheck();
      this.registerInterval(
        window.setInterval(async () => {
          try {
            const currentLocation = this.settings.dailyNotesLocation;
            const newLocation = await updateDailyNotesLocation(this.app);
            if (currentLocation !== newLocation) {
              this.settings.dailyNotesLocation = newLocation;
              await this.saveSettings();
              console.debug("Daily notes location updated:", newLocation);
            }
          } catch (error) {
            console.error("Error updating daily notes location:", error);
          }
        }, 1e3 * 60 * 60)
        // Check every hour
      );
      console.group("Registering Commands");
      try {
        this.registerCommands();
        console.debug("Commands registered successfully");
      } catch (error) {
        console.error("Error registering commands:", error);
        throw error;
      } finally {
        console.groupEnd();
      }
      console.debug("Adding settings tab...");
      this.addSettingTab(new LinkSettingTab(this.app, this));
      console.debug("Settings tab added successfully");
      console.debug("Adding ribbon icons...");
      try {
        const helpRibbonIconEl = this.addRibbonIcon(
          "help-circle",
          "Link Plugin Help",
          (evt) => {
            console.debug("Help ribbon icon clicked", evt);
            new HelpModal(this.app).open();
          }
        );
        helpRibbonIconEl.addClass("link-plugin-help-ribbon-icon");
        const createNoteRibbonIconEl = this.addRibbonIcon(
          "link",
          "Create Linked Note",
          async (evt) => {
            console.debug("Create note ribbon icon clicked", evt);
            const activeView = this.app.workspace.getActiveViewOfType(import_obsidian6.MarkdownView);
            if (activeView) {
              await createLinkedNote(this, activeView.editor);
            } else {
              new import_obsidian6.Notice("Please open a markdown file first");
            }
          }
        );
        createNoteRibbonIconEl.addClass("link-plugin-create-note-ribbon-icon");
        console.debug("Ribbon icons added successfully");
      } catch (error) {
        console.error("Error adding ribbon icons:", error);
        throw error;
      }
      console.timeEnd("Plugin Load Time");
      console.debug("Plugin loaded successfully");
    } catch (error) {
      console.error("Error during plugin initialization:", error);
      console.groupEnd();
      throw error;
    }
  }
  patchDailyNotes() {
    var _a;
    try {
      const dailyNotesPlugin = (_a = this.app.internalPlugins) == null ? void 0 : _a.plugins["daily-notes"];
      if (!(dailyNotesPlugin == null ? void 0 : dailyNotesPlugin.enabled)) {
        console.debug("Daily notes plugin not enabled");
        return;
      }
      const instance = dailyNotesPlugin.instance;
      if (!(instance == null ? void 0 : instance.createDailyNote)) {
        console.debug("Daily notes createDailyNote function not found");
        return;
      }
      const originalCreateDailyNote = instance.createDailyNote.bind(instance);
      instance.createDailyNote = async (date) => {
        try {
          const file = await originalCreateDailyNote(date);
          if (file) {
            await this.enhanceDailyNote(file);
          }
          return file;
        } catch (error) {
          console.error("Error in enhanced createDailyNote:", error);
          return originalCreateDailyNote(date);
        }
      };
      console.debug("Daily notes functionality patched successfully");
    } catch (error) {
      console.error("Error patching daily notes:", error);
    }
  }
  registerRootFolderCheck() {
    this.registerInterval(
      window.setInterval(async () => {
        try {
          const rootExists = await this.app.vault.adapter.exists(ROOT_FOLDER);
          if (!rootExists) {
            console.debug(
              `${ROOT_FOLDER} folder not found, prompting for regeneration`
            );
            new ConfirmationModal(this.app, async () => {
              try {
                await ensureFolderStructure(this.app);
                const newLocation = await updateDailyNotesLocation(this.app);
                this.settings.dailyNotesLocation = newLocation;
                await this.saveSettings();
                new import_obsidian6.Notice(
                  `${ROOT_FOLDER} folder structure has been regenerated`
                );
              } catch (error) {
                console.error("Error regenerating folder structure:", error);
                new import_obsidian6.Notice("Failed to regenerate folder structure");
              }
            }).open();
          }
        } catch (error) {
          console.error("Error checking root folder existence:", error);
        }
      }, 5e3)
    );
  }
  registerCommands() {
    console.debug("Registering format link command...");
    this.addCommand({
      id: "format-link",
      name: "Format selected link",
      editorCallback: (editor, view) => {
        console.debug("Format link command triggered");
        console.debug("Current selection:", editor.getSelection());
        new import_obsidian6.Notice("Link formatting command triggered");
      }
    });
    console.debug("Registering create linked note command...");
    this.addCommand({
      id: "create-linked-note",
      name: "Create new linked note",
      editorCallback: async (editor, view) => {
        console.debug("Create linked note command triggered");
        await createLinkedNote(this, editor);
      }
    });
  }
  async onunload() {
    console.group("Link Plugin Unloading");
    console.debug("Starting plugin cleanup...");
    console.time("Plugin Unload Time");
    try {
      console.debug("Plugin cleanup completed");
    } catch (error) {
      console.error("Error during plugin cleanup:", error);
    } finally {
      console.timeEnd("Plugin Unload Time");
      console.groupEnd();
    }
  }
  async loadSettings() {
    console.debug("Loading settings...");
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    console.debug("Settings loaded:", this.settings);
  }
  async saveSettings() {
    console.debug("Saving settings...");
    await this.saveData(this.settings);
    console.debug("Settings saved");
  }
  async revealFileInExplorer(file) {
    try {
      const fileExplorer = this.app.workspace.getLeavesOfType("file-explorer")[0];
      if (!fileExplorer) {
        return;
      }
      const fileExplorerView = fileExplorer.view;
      if (!fileExplorerView) {
        return;
      }
      fileExplorerView.revealInFolder(file);
    } catch (error) {
      console.error("Error revealing file in explorer:", error);
    }
  }
  isDailyNote(file) {
    const dailyNotesPath = this.settings.dailyNotesLocation;
    return file.path.startsWith(dailyNotesPath) && file.extension === "md";
  }
  async enhanceDailyNote(file) {
    try {
      const match = file.basename.match(/^(\d{4}-\d{2}-\d{2})/);
      if (!match)
        return;
      const date = (0, import_obsidian6.moment)(match[1]);
      if (!date.isValid())
        return;
      const currentContent = await this.app.vault.read(file);
      if (!currentContent.includes("previous:") && !currentContent.includes("next:")) {
        const enhancedContent = await createDailyNoteContent(
          this.app,
          file.basename,
          date
        );
        await this.app.vault.modify(file, enhancedContent);
        console.debug(`Enhanced daily note: ${file.path}`);
      }
    } catch (error) {
      console.error("Error enhancing daily note:", error);
    }
  }
};
var LinkSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Link Plugin Settings" });
    new import_obsidian6.Setting(containerEl).setName("Default link style").setDesc("Choose the default style for new links").addDropdown(
      (dropdown) => dropdown.addOption("markdown", "Markdown").addOption("wiki", "Wiki").setValue(this.plugin.settings.defaultLinkStyle).onChange(async (value) => {
        this.plugin.settings.defaultLinkStyle = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian6.Setting(containerEl).setName("Auto-format links").setDesc("Automatically format links when creating notes").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoFormatLinks).onChange(async (value) => {
        this.plugin.settings.autoFormatLinks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian6.Setting(containerEl).setName("Auto-reveal files").setDesc(
      "Automatically reveal and highlight files in the file explorer when opened"
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoRevealFile).onChange(async (value) => {
        this.plugin.settings.autoRevealFile = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian6.Setting(containerEl).setName("Help").setDesc("Open the help documentation").addButton(
      (btn) => btn.setButtonText("Open Help").setCta().onClick(() => {
        new HelpModal(this.app).open();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2NvbW1hbmRzL2NyZWF0ZUxpbmtlZE5vdGUudHMiLCAic3JjL3V0aWxzL2ZpbGVVdGlscy50cyIsICJzcmMvbW9kYWxzL25ld05vdGVNb2RhbC50cyIsICJzcmMvdXRpbHMvZm9sZGVyVXRpbHMudHMiLCAic3JjL3V0aWxzL2Vycm9ySGFuZGxlci50cyIsICJzcmMvc2V0dGluZ3Mvc2V0dGluZ3MudHMiLCAic3JjL21vZGFscy9iYXNlTW9kYWwudHMiLCAic3JjL21vZGFscy9oZWxwTW9kYWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7XHJcbiAgQXBwLFxyXG4gIEVkaXRvcixcclxuICBNYXJrZG93blZpZXcsXHJcbiAgTW9kYWwsXHJcbiAgTm90aWNlLFxyXG4gIFBsdWdpbixcclxuICBQbHVnaW5TZXR0aW5nVGFiLFxyXG4gIFNldHRpbmcsXHJcbiAgVEZpbGUsXHJcbiAgV29ya3NwYWNlTGVhZixcclxuICBtb21lbnRcclxufSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IHsgY3JlYXRlTGlua2VkTm90ZSB9IGZyb20gJy4vY29tbWFuZHMvY3JlYXRlTGlua2VkTm90ZSdcclxuaW1wb3J0IHsgTGlua1BsdWdpblNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncydcclxuaW1wb3J0IHsgSGVscE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvaGVscE1vZGFsJ1xyXG5pbXBvcnQge1xyXG4gIGVuc3VyZUZvbGRlclN0cnVjdHVyZSxcclxuICB1cGRhdGVEYWlseU5vdGVzTG9jYXRpb24sXHJcbiAgUk9PVF9GT0xERVIsXHJcbiAgY3JlYXRlRGFpbHlOb3RlQ29udGVudFxyXG59IGZyb20gJy4vdXRpbHMvZm9sZGVyVXRpbHMnXHJcblxyXG5jbGFzcyBDb25maXJtYXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICBwcml2YXRlIG9uQ29uZmlybTogKCkgPT4gdm9pZFxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25Db25maXJtOiAoKSA9PiB2b2lkKSB7XHJcbiAgICBzdXBlcihhcHApXHJcbiAgICB0aGlzLm9uQ29uZmlybSA9IG9uQ29uZmlybVxyXG4gIH1cclxuXHJcbiAgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpXHJcblxyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1JlZ2VuZXJhdGUgRm9sZGVyIFN0cnVjdHVyZT8nIH0pXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XHJcbiAgICAgIHRleHQ6IGBUaGUgJHtST09UX0ZPTERFUn0gZm9sZGVyIGhhcyBiZWVuIGRlbGV0ZWQuIFdvdWxkIHlvdSBsaWtlIHRvIHJlZ2VuZXJhdGUgdGhlIGZvbGRlciBzdHJ1Y3R1cmU/YFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdidXR0b24tY29udGFpbmVyJylcclxuICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgICBidXR0b25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnXHJcbiAgICBidXR0b25Db250YWluZXIuc3R5bGUuZ2FwID0gJzEwcHgnXHJcbiAgICBidXR0b25Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzIwcHgnXHJcblxyXG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG4gICAgICB0ZXh0OiAnWWVzLCByZWdlbmVyYXRlJyxcclxuICAgICAgY2xzOiAnbW9kLWN0YSdcclxuICAgIH0pXHJcbiAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgdGhpcy5vbkNvbmZpcm0oKVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgdGV4dDogJ05vLCBrZWVwIGl0IGRlbGV0ZWQnXHJcbiAgICB9KVxyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICBzZXR0aW5nczogTGlua1BsdWdpblNldHRpbmdzXHJcbiAgcHJpdmF0ZSBmb2xkZXJDaGVja0ludGVydmFsOiBudW1iZXJcclxuXHJcbiAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5ncm91cCgnTGluayBQbHVnaW4gTG9hZGluZycpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1N0YXJ0aW5nIHBsdWdpbiBpbml0aWFsaXphdGlvbi4uLicpXHJcbiAgICAgIGNvbnNvbGUudGltZSgnUGx1Z2luIExvYWQgVGltZScpXHJcblxyXG4gICAgICAvLyBMb2FkIHNldHRpbmdzXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0xvYWRpbmcgcGx1Z2luIHNldHRpbmdzLi4uJylcclxuICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKVxyXG4gICAgICBjb25zb2xlLmRlYnVnKCdTZXR0aW5ncyBsb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIHRoaXMuc2V0dGluZ3MpXHJcblxyXG4gICAgICAvLyBFbnN1cmUgZm9sZGVyIHN0cnVjdHVyZSBhbmQgdXBkYXRlIGRhaWx5IG5vdGVzIGxvY2F0aW9uXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0Vuc3VyaW5nIGZvbGRlciBzdHJ1Y3R1cmUuLi4nKVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGVuc3VyZUZvbGRlclN0cnVjdHVyZSh0aGlzLmFwcClcclxuICAgICAgICBjb25zdCBuZXdMb2NhdGlvbiA9IGF3YWl0IHVwZGF0ZURhaWx5Tm90ZXNMb2NhdGlvbih0aGlzLmFwcClcclxuICAgICAgICB0aGlzLnNldHRpbmdzLmRhaWx5Tm90ZXNMb2NhdGlvbiA9IG5ld0xvY2F0aW9uXHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKVxyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0ZvbGRlciBzdHJ1Y3R1cmUgdmVyaWZpZWQvY3JlYXRlZCBzdWNjZXNzZnVsbHknKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuc3VyaW5nIGZvbGRlciBzdHJ1Y3R1cmU6JywgZXJyb3IpXHJcbiAgICAgICAgbmV3IE5vdGljZShcclxuICAgICAgICAgICdFcnJvciBjcmVhdGluZyBmb2xkZXIgc3RydWN0dXJlLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLidcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdhaXQgZm9yIGRhaWx5IG5vdGVzIHBsdWdpbiB0byBiZSByZWFkeVxyXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXRjaERhaWx5Tm90ZXMoKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gUmVnaXN0ZXIgZmlsZSBjcmVhdGlvbiBldmVudHNcclxuICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBUaGUgdHlwZSBkZWZpbml0aW9ucyBhcmUgaW5jb21wbGV0ZVxyXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdjcmVhdGUnLCBhc3luYyAoZmlsZTogVEZpbGUpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzRGFpbHlOb3RlKGZpbGUpKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5oYW5jZURhaWx5Tm90ZShmaWxlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIFJlZ2lzdGVyIGRhaWx5IG5vdGUgY3JlYXRpb24gaW50ZXJjZXB0b3JcclxuICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxyXG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZmlsZS1jcmVhdGUnLCBhc3luYyAoZmlsZTogVEZpbGUpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzRGFpbHlOb3RlKGZpbGUpKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5oYW5jZURhaWx5Tm90ZShmaWxlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIFJlZ2lzdGVyIGZpbGUgb3BlbiBoYW5kbGVyIGZvciBhdXRvLXJldmVhbFxyXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCAoZmlsZTogVEZpbGUpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9SZXZlYWxGaWxlICYmIGZpbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXZlYWxGaWxlSW5FeHBsb3JlcihmaWxlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIFJlZ2lzdGVyIGludGVydmFsIHRvIGNoZWNrIHJvb3QgZm9sZGVyIGV4aXN0ZW5jZVxyXG4gICAgICB0aGlzLnJlZ2lzdGVyUm9vdEZvbGRlckNoZWNrKClcclxuXHJcbiAgICAgIC8vIFJlZ2lzdGVyIGludGVydmFsIHRvIGNoZWNrIGFuZCB1cGRhdGUgZGFpbHkgbm90ZXMgbG9jYXRpb25cclxuICAgICAgdGhpcy5yZWdpc3RlckludGVydmFsKFxyXG4gICAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0aGlzLnNldHRpbmdzLmRhaWx5Tm90ZXNMb2NhdGlvblxyXG4gICAgICAgICAgICBjb25zdCBuZXdMb2NhdGlvbiA9IGF3YWl0IHVwZGF0ZURhaWx5Tm90ZXNMb2NhdGlvbih0aGlzLmFwcClcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gIT09IG5ld0xvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kYWlseU5vdGVzTG9jYXRpb24gPSBuZXdMb2NhdGlvblxyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEYWlseSBub3RlcyBsb2NhdGlvbiB1cGRhdGVkOicsIG5ld0xvY2F0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkYWlseSBub3RlcyBsb2NhdGlvbjonLCBlcnJvcilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDAwICogNjAgKiA2MCkgLy8gQ2hlY2sgZXZlcnkgaG91clxyXG4gICAgICApXHJcblxyXG4gICAgICAvLyBSZWdpc3RlciBjb21tYW5kc1xyXG4gICAgICBjb25zb2xlLmdyb3VwKCdSZWdpc3RlcmluZyBDb21tYW5kcycpXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRzKClcclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdDb21tYW5kcyByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScpXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgY29tbWFuZHM6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBjb25zb2xlLmdyb3VwRW5kKClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWRkIHNldHRpbmdzIHRhYlxyXG4gICAgICBjb25zb2xlLmRlYnVnKCdBZGRpbmcgc2V0dGluZ3MgdGFiLi4uJylcclxuICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMaW5rU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1NldHRpbmdzIHRhYiBhZGRlZCBzdWNjZXNzZnVsbHknKVxyXG5cclxuICAgICAgLy8gQWRkIHJpYmJvbiBpY29uc1xyXG4gICAgICBjb25zb2xlLmRlYnVnKCdBZGRpbmcgcmliYm9uIGljb25zLi4uJylcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBIZWxwIHJpYmJvbiBpY29uXHJcbiAgICAgICAgY29uc3QgaGVscFJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbihcclxuICAgICAgICAgICdoZWxwLWNpcmNsZScsXHJcbiAgICAgICAgICAnTGluayBQbHVnaW4gSGVscCcsXHJcbiAgICAgICAgICAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0hlbHAgcmliYm9uIGljb24gY2xpY2tlZCcsIGV2dClcclxuICAgICAgICAgICAgbmV3IEhlbHBNb2RhbCh0aGlzLmFwcCkub3BlbigpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIGhlbHBSaWJib25JY29uRWwuYWRkQ2xhc3MoJ2xpbmstcGx1Z2luLWhlbHAtcmliYm9uLWljb24nKVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgbGlua2VkIG5vdGUgcmliYm9uIGljb25cclxuICAgICAgICBjb25zdCBjcmVhdGVOb3RlUmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxyXG4gICAgICAgICAgJ2xpbmsnLFxyXG4gICAgICAgICAgJ0NyZWF0ZSBMaW5rZWQgTm90ZScsXHJcbiAgICAgICAgICBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NyZWF0ZSBub3RlIHJpYmJvbiBpY29uIGNsaWNrZWQnLCBldnQpXHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPVxyXG4gICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldylcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcclxuICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVMaW5rZWROb3RlKHRoaXMsIGFjdGl2ZVZpZXcuZWRpdG9yKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1BsZWFzZSBvcGVuIGEgbWFya2Rvd24gZmlsZSBmaXJzdCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgY3JlYXRlTm90ZVJpYmJvbkljb25FbC5hZGRDbGFzcygnbGluay1wbHVnaW4tY3JlYXRlLW5vdGUtcmliYm9uLWljb24nKVxyXG5cclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdSaWJib24gaWNvbnMgYWRkZWQgc3VjY2Vzc2Z1bGx5JylcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgcmliYm9uIGljb25zOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUudGltZUVuZCgnUGx1Z2luIExvYWQgVGltZScpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1BsdWdpbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5JylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb246JywgZXJyb3IpXHJcbiAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwYXRjaERhaWx5Tm90ZXMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHZXQgdGhlIGRhaWx5IG5vdGVzIHBsdWdpblxyXG4gICAgICBjb25zdCBkYWlseU5vdGVzUGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkuaW50ZXJuYWxQbHVnaW5zPy5wbHVnaW5zW1xyXG4gICAgICAgICdkYWlseS1ub3RlcydcclxuICAgICAgXVxyXG4gICAgICBpZiAoIWRhaWx5Tm90ZXNQbHVnaW4/LmVuYWJsZWQpIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdEYWlseSBub3RlcyBwbHVnaW4gbm90IGVuYWJsZWQnKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGRhaWx5Tm90ZXNQbHVnaW4uaW5zdGFuY2VcclxuICAgICAgaWYgKCFpbnN0YW5jZT8uY3JlYXRlRGFpbHlOb3RlKSB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnRGFpbHkgbm90ZXMgY3JlYXRlRGFpbHlOb3RlIGZ1bmN0aW9uIG5vdCBmb3VuZCcpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFN0b3JlIHRoZSBvcmlnaW5hbCBjcmVhdGUgZGFpbHkgbm90ZSBmdW5jdGlvblxyXG4gICAgICBjb25zdCBvcmlnaW5hbENyZWF0ZURhaWx5Tm90ZSA9IGluc3RhbmNlLmNyZWF0ZURhaWx5Tm90ZS5iaW5kKGluc3RhbmNlKVxyXG5cclxuICAgICAgLy8gUmVwbGFjZSB3aXRoIG91ciBlbmhhbmNlZCB2ZXJzaW9uXHJcbiAgICAgIGluc3RhbmNlLmNyZWF0ZURhaWx5Tm90ZSA9IGFzeW5jIChkYXRlPzogRGF0ZSkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgb3JpZ2luYWxDcmVhdGVEYWlseU5vdGUoZGF0ZSlcclxuICAgICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5oYW5jZURhaWx5Tm90ZShmaWxlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGZpbGVcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZW5oYW5jZWQgY3JlYXRlRGFpbHlOb3RlOicsIGVycm9yKVxyXG4gICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIG9yaWdpbmFsIGZ1bmN0aW9uIGlmIG91ciBlbmhhbmNlbWVudCBmYWlsc1xyXG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsQ3JlYXRlRGFpbHlOb3RlKGRhdGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmRlYnVnKCdEYWlseSBub3RlcyBmdW5jdGlvbmFsaXR5IHBhdGNoZWQgc3VjY2Vzc2Z1bGx5JylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhdGNoaW5nIGRhaWx5IG5vdGVzOicsIGVycm9yKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWdpc3RlclJvb3RGb2xkZXJDaGVjaygpIHtcclxuICAgIC8vIENoZWNrIGV2ZXJ5IDUgc2Vjb25kcyBmb3Igcm9vdCBmb2xkZXIgZXhpc3RlbmNlXHJcbiAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXHJcbiAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJvb3RFeGlzdHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhST09UX0ZPTERFUilcclxuICAgICAgICAgIGlmICghcm9vdEV4aXN0cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFxyXG4gICAgICAgICAgICAgIGAke1JPT1RfRk9MREVSfSBmb2xkZXIgbm90IGZvdW5kLCBwcm9tcHRpbmcgZm9yIHJlZ2VuZXJhdGlvbmBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBuZXcgQ29uZmlybWF0aW9uTW9kYWwodGhpcy5hcHAsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZW5zdXJlRm9sZGVyU3RydWN0dXJlKHRoaXMuYXBwKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TG9jYXRpb24gPSBhd2FpdCB1cGRhdGVEYWlseU5vdGVzTG9jYXRpb24odGhpcy5hcHApXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRhaWx5Tm90ZXNMb2NhdGlvbiA9IG5ld0xvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpXHJcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKFxyXG4gICAgICAgICAgICAgICAgICBgJHtST09UX0ZPTERFUn0gZm9sZGVyIHN0cnVjdHVyZSBoYXMgYmVlbiByZWdlbmVyYXRlZGBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnZW5lcmF0aW5nIGZvbGRlciBzdHJ1Y3R1cmU6JywgZXJyb3IpXHJcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdGYWlsZWQgdG8gcmVnZW5lcmF0ZSBmb2xkZXIgc3RydWN0dXJlJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLm9wZW4oKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyByb290IGZvbGRlciBleGlzdGVuY2U6JywgZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA1MDAwKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWdpc3RlckNvbW1hbmRzKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygnUmVnaXN0ZXJpbmcgZm9ybWF0IGxpbmsgY29tbWFuZC4uLicpXHJcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ2Zvcm1hdC1saW5rJyxcclxuICAgICAgbmFtZTogJ0Zvcm1hdCBzZWxlY3RlZCBsaW5rJyxcclxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnRm9ybWF0IGxpbmsgY29tbWFuZCB0cmlnZ2VyZWQnKVxyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0N1cnJlbnQgc2VsZWN0aW9uOicsIGVkaXRvci5nZXRTZWxlY3Rpb24oKSlcclxuICAgICAgICBuZXcgTm90aWNlKCdMaW5rIGZvcm1hdHRpbmcgY29tbWFuZCB0cmlnZ2VyZWQnKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnNvbGUuZGVidWcoJ1JlZ2lzdGVyaW5nIGNyZWF0ZSBsaW5rZWQgbm90ZSBjb21tYW5kLi4uJylcclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnY3JlYXRlLWxpbmtlZC1ub3RlJyxcclxuICAgICAgbmFtZTogJ0NyZWF0ZSBuZXcgbGlua2VkIG5vdGUnLFxyXG4gICAgICBlZGl0b3JDYWxsYmFjazogYXN5bmMgKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdDcmVhdGUgbGlua2VkIG5vdGUgY29tbWFuZCB0cmlnZ2VyZWQnKVxyXG4gICAgICAgIGF3YWl0IGNyZWF0ZUxpbmtlZE5vdGUodGhpcywgZWRpdG9yKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgb251bmxvYWQoKSB7XHJcbiAgICBjb25zb2xlLmdyb3VwKCdMaW5rIFBsdWdpbiBVbmxvYWRpbmcnKVxyXG4gICAgY29uc29sZS5kZWJ1ZygnU3RhcnRpbmcgcGx1Z2luIGNsZWFudXAuLi4nKVxyXG4gICAgY29uc29sZS50aW1lKCdQbHVnaW4gVW5sb2FkIFRpbWUnKVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBjbGVhbnVwIGNvZGUgaGVyZVxyXG4gICAgICBjb25zb2xlLmRlYnVnKCdQbHVnaW4gY2xlYW51cCBjb21wbGV0ZWQnKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHBsdWdpbiBjbGVhbnVwOicsIGVycm9yKVxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgY29uc29sZS50aW1lRW5kKCdQbHVnaW4gVW5sb2FkIFRpbWUnKVxyXG4gICAgICBjb25zb2xlLmdyb3VwRW5kKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIGNvbnNvbGUuZGVidWcoJ0xvYWRpbmcgc2V0dGluZ3MuLi4nKVxyXG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSlcclxuICAgIGNvbnNvbGUuZGVidWcoJ1NldHRpbmdzIGxvYWRlZDonLCB0aGlzLnNldHRpbmdzKVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygnU2F2aW5nIHNldHRpbmdzLi4uJylcclxuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncylcclxuICAgIGNvbnNvbGUuZGVidWcoJ1NldHRpbmdzIHNhdmVkJylcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgcmV2ZWFsRmlsZUluRXhwbG9yZXIoZmlsZTogVEZpbGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCB0aGUgZmlsZSBleHBsb3JlciBsZWFmXHJcbiAgICAgIGNvbnN0IGZpbGVFeHBsb3JlciA9XHJcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnZmlsZS1leHBsb3JlcicpWzBdXHJcbiAgICAgIGlmICghZmlsZUV4cGxvcmVyKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEB0cy1pZ25vcmUgLSBBY2Nlc3MgdGhlIGZpbGUgZXhwbG9yZXIgdmlldyBpbnN0YW5jZVxyXG4gICAgICBjb25zdCBmaWxlRXhwbG9yZXJWaWV3ID0gZmlsZUV4cGxvcmVyLnZpZXdcclxuICAgICAgaWYgKCFmaWxlRXhwbG9yZXJWaWV3KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJldmVhbCBhbmQgaGlnaGxpZ2h0IHRoZSBmaWxlXHJcbiAgICAgIC8vIEB0cy1pZ25vcmUgLSBBY2Nlc3NpbmcgaW50ZXJuYWwgQVBJXHJcbiAgICAgIGZpbGVFeHBsb3JlclZpZXcucmV2ZWFsSW5Gb2xkZXIoZmlsZSlcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldmVhbGluZyBmaWxlIGluIGV4cGxvcmVyOicsIGVycm9yKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0RhaWx5Tm90ZShmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGUgaXMgaW4gYSBkYWlseSBub3RlcyBmb2xkZXJcclxuICAgIGNvbnN0IGRhaWx5Tm90ZXNQYXRoID0gdGhpcy5zZXR0aW5ncy5kYWlseU5vdGVzTG9jYXRpb25cclxuICAgIHJldHVybiBmaWxlLnBhdGguc3RhcnRzV2l0aChkYWlseU5vdGVzUGF0aCkgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCdcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZW5oYW5jZURhaWx5Tm90ZShmaWxlOiBURmlsZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRXh0cmFjdCBkYXRlIGZyb20gZmlsZW5hbWVcclxuICAgICAgY29uc3QgbWF0Y2ggPSBmaWxlLmJhc2VuYW1lLm1hdGNoKC9eKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KS8pXHJcbiAgICAgIGlmICghbWF0Y2gpIHJldHVyblxyXG5cclxuICAgICAgY29uc3QgZGF0ZSA9IG1vbWVudChtYXRjaFsxXSlcclxuICAgICAgaWYgKCFkYXRlLmlzVmFsaWQoKSkgcmV0dXJuXHJcblxyXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29udGVudFxyXG4gICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSlcclxuXHJcbiAgICAgIC8vIE9ubHkgZW5oYW5jZSBpZiBpdCBkb2Vzbid0IGFscmVhZHkgaGF2ZSBwcmV2aW91cy9uZXh0IGxpbmtzXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhY3VycmVudENvbnRlbnQuaW5jbHVkZXMoJ3ByZXZpb3VzOicpICYmXHJcbiAgICAgICAgIWN1cnJlbnRDb250ZW50LmluY2x1ZGVzKCduZXh0OicpXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBlbmhhbmNlZCBjb250ZW50XHJcbiAgICAgICAgY29uc3QgZW5oYW5jZWRDb250ZW50ID0gYXdhaXQgY3JlYXRlRGFpbHlOb3RlQ29udGVudChcclxuICAgICAgICAgIHRoaXMuYXBwLFxyXG4gICAgICAgICAgZmlsZS5iYXNlbmFtZSxcclxuICAgICAgICAgIGRhdGVcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgZmlsZVxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBlbmhhbmNlZENvbnRlbnQpXHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgRW5oYW5jZWQgZGFpbHkgbm90ZTogJHtmaWxlLnBhdGh9YClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5oYW5jaW5nIGRhaWx5IG5vdGU6JywgZXJyb3IpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBMaW5rU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogTGlua1BsdWdpblxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBMaW5rUGx1Z2luKSB7XHJcbiAgICBzdXBlcihhcHAsIHBsdWdpbilcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpc1xyXG5cclxuICAgIGNvbnRhaW5lckVsLmVtcHR5KClcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xpbmsgUGx1Z2luIFNldHRpbmdzJyB9KVxyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnRGVmYXVsdCBsaW5rIHN0eWxlJylcclxuICAgICAgLnNldERlc2MoJ0Nob29zZSB0aGUgZGVmYXVsdCBzdHlsZSBmb3IgbmV3IGxpbmtzJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbignbWFya2Rvd24nLCAnTWFya2Rvd24nKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignd2lraScsICdXaWtpJylcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TGlua1N0eWxlKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TGlua1N0eWxlID0gdmFsdWVcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ0F1dG8tZm9ybWF0IGxpbmtzJylcclxuICAgICAgLnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgZm9ybWF0IGxpbmtzIHdoZW4gY3JlYXRpbmcgbm90ZXMnKVxyXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcbiAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0Zvcm1hdExpbmtzKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvRm9ybWF0TGlua3MgPSB2YWx1ZVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgKVxyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnQXV0by1yZXZlYWwgZmlsZXMnKVxyXG4gICAgICAuc2V0RGVzYyhcclxuICAgICAgICAnQXV0b21hdGljYWxseSByZXZlYWwgYW5kIGhpZ2hsaWdodCBmaWxlcyBpbiB0aGUgZmlsZSBleHBsb3JlciB3aGVuIG9wZW5lZCdcclxuICAgICAgKVxyXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcbiAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1JldmVhbEZpbGUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9SZXZlYWxGaWxlID0gdmFsdWVcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ0hlbHAnKVxyXG4gICAgICAuc2V0RGVzYygnT3BlbiB0aGUgaGVscCBkb2N1bWVudGF0aW9uJylcclxuICAgICAgLmFkZEJ1dHRvbigoYnRuKSA9PlxyXG4gICAgICAgIGJ0blxyXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoJ09wZW4gSGVscCcpXHJcbiAgICAgICAgICAuc2V0Q3RhKClcclxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgbmV3IEhlbHBNb2RhbCh0aGlzLmFwcCkub3BlbigpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG59XHJcbiIsICIvKipcclxuICogQGZpbGUgY3JlYXRlTGlua2VkTm90ZS50c1xyXG4gKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBub3RlIGFuZCBsaW5rcyB0byBpdCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICovXHJcblxyXG5pbXBvcnQgeyBFZGl0b3IsIE5vdGljZSwgVEZpbGUsIEFwcCwgbW9tZW50IH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IHNhbml0aXplRmlsZU5hbWUgfSBmcm9tICcuLi91dGlscy9maWxlVXRpbHMnXHJcbmltcG9ydCB7IE5ld05vdGVNb2RhbCB9IGZyb20gJy4uL21vZGFscy9uZXdOb3RlTW9kYWwnXHJcbmltcG9ydCB7XHJcbiAgaGFuZGxlUGx1Z2luRXJyb3IsXHJcbiAgTGlua1BsdWdpbkVycm9yLFxyXG4gIEVycm9yQ29kZVxyXG59IGZyb20gJy4uL3V0aWxzL2Vycm9ySGFuZGxlcidcclxuaW1wb3J0IHtcclxuICBST09UX0ZPTERFUixcclxuICBlbnN1cmVGdXR1cmVEYWlseU5vdGVGb2xkZXIsXHJcbiAgQkFTRV9GT0xERVJTXHJcbn0gZnJvbSAnLi4vdXRpbHMvZm9sZGVyVXRpbHMnXHJcblxyXG5pbnRlcmZhY2UgTm90ZUNyZWF0aW9uUmVzdWx0IHtcclxuICBuYW1lOiBzdHJpbmdcclxuICBmb2xkZXI6IHN0cmluZ1xyXG4gIGlzRnV0dXJlRGFpbHk/OiBib29sZWFuXHJcbiAgZGF0ZT86IG1vbWVudC5Nb21lbnRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaW5rUGx1Z2luIHtcclxuICBhcHA6IEFwcFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGlua2VkTm90ZShcclxuICBwbHVnaW46IExpbmtQbHVnaW4sXHJcbiAgZWRpdG9yOiBFZGl0b3JcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldE5vdGVOYW1lKGVkaXRvciwgcGx1Z2luKVxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHsgbmFtZTogbm90ZU5hbWUsIGZvbGRlciB9ID0gcmVzdWx0XHJcblxyXG4gICAgLy8gSGFuZGxlIGZ1dHVyZSBkYWlseSBub3RlXHJcbiAgICBpZiAocmVzdWx0LmlzRnV0dXJlRGFpbHkgJiYgcmVzdWx0LmRhdGUpIHtcclxuICAgICAgZm9sZGVyID0gYXdhaXQgZW5zdXJlRnV0dXJlRGFpbHlOb3RlRm9sZGVyKHBsdWdpbi5hcHAsIHJlc3VsdC5kYXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVOYW1lID0gYXdhaXQgdmFsaWRhdGVBbmRTYW5pdGl6ZUZpbGVOYW1lKG5vdGVOYW1lKVxyXG4gICAgY29uc3QgZnVsbFBhdGggPSBgJHtmb2xkZXJ9LyR7ZmlsZU5hbWV9YFxyXG4gICAgY29uc3QgbmV3Tm90ZSA9IGF3YWl0IGNyZWF0ZU5vdGVGaWxlKHBsdWdpbiwgZnVsbFBhdGgsIG5vdGVOYW1lLCByZXN1bHQpXHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgcmVsYXRpdmUgbGluayBwYXRoIGZyb20gdGhlIHJvb3QgZm9sZGVyXHJcbiAgICBjb25zdCBsaW5rUGF0aCA9IGZ1bGxQYXRoLnJlcGxhY2UoYCR7Uk9PVF9GT0xERVJ9L2AsICcnKVxyXG4gICAgYXdhaXQgaW5zZXJ0Tm90ZUxpbmtJbkVkaXRvcihlZGl0b3IsIGxpbmtQYXRoKVxyXG5cclxuICAgIG5ldyBOb3RpY2UoYENyZWF0ZWQgbmV3IG5vdGU6ICR7bGlua1BhdGh9YClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaGFuZGxlUGx1Z2luRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gY3JlYXRlIGxpbmtlZCBub3RlJylcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldE5vdGVOYW1lKFxyXG4gIGVkaXRvcjogRWRpdG9yLFxyXG4gIHBsdWdpbjogTGlua1BsdWdpblxyXG4pOiBQcm9taXNlPE5vdGVDcmVhdGlvblJlc3VsdCB8IG51bGw+IHtcclxuICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKClcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBjb25zdCBtb2RhbCA9IG5ldyBOZXdOb3RlTW9kYWwocGx1Z2luLmFwcCwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShudWxsKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgbW9kYWwub3BlbigpXHJcblxyXG4gICAgLy8gSWYgdGhlcmUncyBhIHNlbGVjdGlvbiwgcHJlLWZpbGwgdGhlIG5vdGUgbmFtZVxyXG4gICAgaWYgKHNlbGVjdGlvbikge1xyXG4gICAgICAvLyBAdHMtaWdub3JlIC0gV2Uga25vdyB0aGUgbW9kYWwgaGFzIHRoaXMgcHJvcGVydHlcclxuICAgICAgbW9kYWwuaW5wdXRFbC52YWx1ZSA9IHNlbGVjdGlvblxyXG4gICAgICAvLyBAdHMtaWdub3JlIC0gV2Uga25vdyB0aGUgbW9kYWwgaGFzIHRoaXMgcHJvcGVydHlcclxuICAgICAgbW9kYWwucmVzdWx0Lm5hbWUgPSBzZWxlY3Rpb25cclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUFuZFNhbml0aXplRmlsZU5hbWUobmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBpZiAoIWlzVmFsaWROb3RlTmFtZShuYW1lKSkge1xyXG4gICAgdGhyb3cgbmV3IExpbmtQbHVnaW5FcnJvcignSW52YWxpZCBub3RlIG5hbWUnLCBFcnJvckNvZGUuSU5WQUxJRF9OT1RFX05BTUUpXHJcbiAgfVxyXG4gIHJldHVybiBzYW5pdGl6ZUZpbGVOYW1lKG5hbWUpXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vdGVGaWxlKFxyXG4gIHBsdWdpbjogTGlua1BsdWdpbixcclxuICBmdWxsUGF0aDogc3RyaW5nLFxyXG4gIG5vdGVOYW1lOiBzdHJpbmcsXHJcbiAgb3B0aW9uczogTm90ZUNyZWF0aW9uUmVzdWx0XHJcbik6IFByb21pc2U8VEZpbGU+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZXhpc3RzID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhgJHtmdWxsUGF0aH0ubWRgKVxyXG4gICAgaWYgKGV4aXN0cykge1xyXG4gICAgICB0aHJvdyBuZXcgTGlua1BsdWdpbkVycm9yKFxyXG4gICAgICAgIGBOb3RlIFwiJHtmdWxsUGF0aH1cIiBhbHJlYWR5IGV4aXN0c2AsXHJcbiAgICAgICAgRXJyb3JDb2RlLkZJTEVfQUxSRUFEWV9FWElTVFNcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250ZW50OiBzdHJpbmdcclxuICAgIGlmIChvcHRpb25zLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgY29udGVudCA9IGF3YWl0IGNyZWF0ZURhaWx5Tm90ZUNvbnRlbnQocGx1Z2luLmFwcCwgbm90ZU5hbWUsIG9wdGlvbnMuZGF0ZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRlbnQgPSBgIyAke25vdGVOYW1lfVxcblxcbmBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoYCR7ZnVsbFBhdGh9Lm1kYCwgY29udGVudClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTGlua1BsdWdpbkVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgTGlua1BsdWdpbkVycm9yKFxyXG4gICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBub3RlIGZpbGUnLFxyXG4gICAgICBFcnJvckNvZGUuRklMRV9PUEVSQVRJT05fRkFJTEVELFxyXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiB1bmRlZmluZWRcclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURhaWx5Tm90ZUNvbnRlbnQoXHJcbiAgYXBwOiBBcHAsXHJcbiAgbm90ZU5hbWU6IHN0cmluZyxcclxuICBkYXRlPzogbW9tZW50Lk1vbWVudFxyXG4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBjb250ZW50XHJcbiAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSBgJHtCQVNFX0ZPTERFUlMuVEVNUExBVEVTfS9EYWlseSBOb3RlIFRlbXBsYXRlLm1kYFxyXG4gICAgbGV0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IGFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGVtcGxhdGVQYXRoKVxyXG5cclxuICAgIGlmIChkYXRlKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBwcmV2aW91cyBhbmQgbmV4dCBkYXRlc1xyXG4gICAgICBjb25zdCBwcmV2RGF0ZSA9IG1vbWVudChkYXRlKS5zdWJ0cmFjdCgxLCAnZGF5JylcclxuICAgICAgY29uc3QgbmV4dERhdGUgPSBtb21lbnQoZGF0ZSkuYWRkKDEsICdkYXknKVxyXG5cclxuICAgICAgLy8gRm9ybWF0IHRoZSBkYXRlcyBmb3IgbGlua3NcclxuICAgICAgY29uc3QgcHJldkxpbmsgPSBgJHtwcmV2RGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKX0gJHtwcmV2RGF0ZS5mb3JtYXQoXHJcbiAgICAgICAgJ2RkZGQnXHJcbiAgICAgICl9YFxyXG4gICAgICBjb25zdCBuZXh0TGluayA9IGAke25leHREYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpfSAke25leHREYXRlLmZvcm1hdChcclxuICAgICAgICAnZGRkZCdcclxuICAgICAgKX1gXHJcblxyXG4gICAgICAvLyBSZXBsYWNlIHRlbXBsYXRlIHZhcmlhYmxlc1xyXG4gICAgICB0ZW1wbGF0ZUNvbnRlbnQgPSB0ZW1wbGF0ZUNvbnRlbnRcclxuICAgICAgICAucmVwbGFjZSgvcHJldmlvdXM6ICcnL2csIGBwcmV2aW91czogJ1tbJHtwcmV2TGlua31dXSdgKVxyXG4gICAgICAgIC5yZXBsYWNlKC9uZXh0OiAnJy9nLCBgbmV4dDogJ1tbJHtuZXh0TGlua31dXSdgKVxyXG4gICAgICAgIC5yZXBsYWNlKC97e2RhdGU6WVlZWS1NTS1ERH19L2csIGRhdGUuZm9ybWF0KCdZWVlZLU1NLUREJykpXHJcbiAgICAgICAgLnJlcGxhY2UoL3t7dGltZTpISDptbX19L2csIG1vbWVudCgpLmZvcm1hdCgnSEg6bW0nKSlcclxuICAgICAgICAucmVwbGFjZShcclxuICAgICAgICAgIC97e2RhdGU6ZGRkZCwgTU1NTSBELCBZWVlZfX0vZyxcclxuICAgICAgICAgIGRhdGUuZm9ybWF0KCdkZGRkLCBNTU1NIEQsIFlZWVknKVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbW9udGggbG9nIGFuZCBsaXN0IHJlZmVyZW5jZXNcclxuICAgICAgY29uc3QgbW9udGhOYW1lID0gZGF0ZS5mb3JtYXQoJ01NTU0nKVxyXG4gICAgICB0ZW1wbGF0ZUNvbnRlbnQgPSB0ZW1wbGF0ZUNvbnRlbnRcclxuICAgICAgICAucmVwbGFjZSgvXFxbXFxbRGVjZW1iZXIgTG9nXFxdXFxdL2csIGBbWyR7bW9udGhOYW1lfSBMb2ddXWApXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcW1xcW0RlY2VtYmVyIExpc3RcXF1cXF0vZywgYFtbJHttb250aE5hbWV9IExpc3RdXWApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRlbXBsYXRlQ29udGVudFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIHRlbXBsYXRlOicsIGVycm9yKVxyXG4gICAgLy8gRmFsbGJhY2sgdG8gYmFzaWMgY29udGVudCBpZiB0ZW1wbGF0ZSBjYW4ndCBiZSByZWFkXHJcbiAgICByZXR1cm4gYCMgJHtub3RlTmFtZX1cXG5cXG5DcmVhdGVkOiAke21vbWVudCgpLmZvcm1hdChcclxuICAgICAgJ1lZWVktTU0tREQgSEg6bW0nXHJcbiAgICApfVxcblxcbmBcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluc2VydE5vdGVMaW5rSW5FZGl0b3IoXHJcbiAgZWRpdG9yOiBFZGl0b3IsXHJcbiAgZnVsbFBhdGg6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICB0cnkge1xyXG4gICAgLy8gRXh0cmFjdCB0aGUgZmlsZW5hbWUgd2l0aG91dCBleHRlbnNpb24gZm9yIHRoZSBkaXNwbGF5IHRleHRcclxuICAgIGNvbnN0IGRpc3BsYXlOYW1lID1cclxuICAgICAgZnVsbFBhdGguc3BsaXQoJy8nKS5wb3AoKT8ucmVwbGFjZSgnLm1kJywgJycpIHx8IGZ1bGxQYXRoXHJcbiAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihgW1ske2Z1bGxQYXRofXwke2Rpc3BsYXlOYW1lfV1dYClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IExpbmtQbHVnaW5FcnJvcihcclxuICAgICAgJ0ZhaWxlZCB0byBpbnNlcnQgbm90ZSBsaW5rJyxcclxuICAgICAgRXJyb3JDb2RlLkxJTktfSU5TRVJUSU9OX0ZBSUxFRCxcclxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogdW5kZWZpbmVkXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkTm90ZU5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIEJvb2xlYW4oXHJcbiAgICBuYW1lICYmXHJcbiAgICAgIG5hbWUubGVuZ3RoID4gMCAmJlxyXG4gICAgICBuYW1lLmxlbmd0aCA8PSAyNTUgJiZcclxuICAgICAgIW5hbWUuaW5jbHVkZXMoJy8nKSAmJlxyXG4gICAgICAhbmFtZS5pbmNsdWRlcygnXFxcXCcpXHJcbiAgKVxyXG59XHJcbiIsICJpbXBvcnQgeyBWYXVsdCB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRmlsZU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gbmFtZVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcclxuICAgIC5yZXBsYWNlKC9bXmEtejAtOS1dL2csICcnKVxyXG4gICAgLnJlcGxhY2UoLy0rL2csICctJylcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vdGUoXHJcbiAgdmF1bHQ6IFZhdWx0LFxyXG4gIGZpbGVOYW1lOiBzdHJpbmcsXHJcbiAgY29udGVudDogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGV4aXN0cyA9IGF3YWl0IHZhdWx0LmFkYXB0ZXIuZXhpc3RzKGAke2ZpbGVOYW1lfS5tZGApXHJcbiAgaWYgKGV4aXN0cykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBOb3RlIFwiJHtmaWxlTmFtZX1cIiBhbHJlYWR5IGV4aXN0cyFgKVxyXG4gIH1cclxuICBhd2FpdCB2YXVsdC5jcmVhdGUoYCR7ZmlsZU5hbWV9Lm1kYCwgY29udGVudClcclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZywgbW9tZW50IH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IEJBU0VfRk9MREVSUyB9IGZyb20gJy4uL3V0aWxzL2ZvbGRlclV0aWxzJ1xyXG5cclxuaW50ZXJmYWNlIE5vdGVDcmVhdGlvblJlc3VsdCB7XHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZm9sZGVyOiBzdHJpbmdcclxuICBpc0Z1dHVyZURhaWx5PzogYm9vbGVhblxyXG4gIGRhdGU/OiBtb21lbnQuTW9tZW50XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdOb3RlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgcHJpdmF0ZSBvblN1Ym1pdDogKHJlc3VsdDogTm90ZUNyZWF0aW9uUmVzdWx0IHwgbnVsbCkgPT4gdm9pZFxyXG4gIHByaXZhdGUgaW5wdXRFbDogSFRNTElucHV0RWxlbWVudFxyXG4gIHByaXZhdGUgZm9sZGVyRHJvcGRvd246IFNldHRpbmdcclxuICBwcml2YXRlIHJlc3VsdDogTm90ZUNyZWF0aW9uUmVzdWx0ID0geyBuYW1lOiAnJywgZm9sZGVyOiAnJyB9XHJcbiAgcHJpdmF0ZSBpc0Z1dHVyZURhaWx5OiBib29sZWFuID0gZmFsc2VcclxuICBwcml2YXRlIGNvbnRhaW5lcnM6IHtcclxuICAgIGRhdGVQaWNrZXJDb250YWluZXI/OiBIVE1MRGl2RWxlbWVudFxyXG4gICAgbmFtZUNvbnRhaW5lcj86IEhUTUxEaXZFbGVtZW50XHJcbiAgICBmb2xkZXJDb250YWluZXI/OiBIVE1MRGl2RWxlbWVudFxyXG4gIH0gPSB7fVxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25TdWJtaXQ6IChyZXN1bHQ6IE5vdGVDcmVhdGlvblJlc3VsdCB8IG51bGwpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdFxyXG4gIH1cclxuXHJcbiAgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0NyZWF0ZSBOZXcgTm90ZScgfSlcclxuXHJcbiAgICAvLyBOb3RlIFR5cGUgU2VsZWN0aW9uXHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5zZXROYW1lKCdOb3RlIFR5cGUnKVxyXG4gICAgICAuc2V0RGVzYygnQ2hvb3NlIHRoZSB0eXBlIG9mIG5vdGUgdG8gY3JlYXRlJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdyZWd1bGFyJywgJ1JlZ3VsYXIgTm90ZScpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdmdXR1cmUnLCAnRnV0dXJlIERhaWx5IE5vdGUnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmlzRnV0dXJlRGFpbHkgPSB2YWx1ZSA9PT0gJ2Z1dHVyZSdcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNGdXR1cmVEYWlseSkge1xyXG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LmZvbGRlciA9IEJBU0VfRk9MREVSUy5KT1VSTkFMXHJcbiAgICAgICAgICAgICAgdGhpcy5mb2xkZXJEcm9wZG93bj8uY29tcG9uZW50c1swXT8uc2V0VmFsdWUoQkFTRV9GT0xERVJTLkpPVVJOQUwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNGdXR1cmVEYWlseSA9IHRoaXMuaXNGdXR1cmVEYWlseVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZvcm1WaXNpYmlsaXR5KClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gRGF0ZSBQaWNrZXIgKGluaXRpYWxseSBoaWRkZW4pXHJcbiAgICB0aGlzLmNvbnRhaW5lcnMuZGF0ZVBpY2tlckNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgdGhpcy5jb250YWluZXJzLmRhdGVQaWNrZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVycy5kYXRlUGlja2VyQ29udGFpbmVyKVxyXG4gICAgICAuc2V0TmFtZSgnRGF0ZScpXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgdGhlIGRhdGUgZm9yIHRoZSBmdXR1cmUgZGFpbHkgbm90ZScpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZVBpY2tlckVsID0gdGV4dC5pbnB1dEVsXHJcbiAgICAgICAgZGF0ZVBpY2tlckVsLnR5cGUgPSAnZGF0ZSdcclxuICAgICAgICBjb25zdCB0b21vcnJvdyA9IG1vbWVudCgpLmFkZCgxLCAnZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICBkYXRlUGlja2VyRWwudmFsdWUgPSB0b21vcnJvd1xyXG4gICAgICAgIGRhdGVQaWNrZXJFbC5taW4gPSB0b21vcnJvd1xyXG4gICAgICAgIGRhdGVQaWNrZXJFbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnJlc3VsdC5kYXRlID0gbW9tZW50KGRhdGVQaWNrZXJFbC52YWx1ZSlcclxuICAgICAgICAgIGlmICh0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQubmFtZSA9IHRoaXMucmVzdWx0LmRhdGUuZm9ybWF0KCdZWVlZLU1NLUREIGRkZGQnKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHRoaXMuaW5wdXRFbCkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0RWwudmFsdWUgPSB0aGlzLnJlc3VsdC5uYW1lXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBkYXRlXHJcbiAgICAgICAgdGhpcy5yZXN1bHQuZGF0ZSA9IG1vbWVudCh0b21vcnJvdylcclxuICAgICAgICB0aGlzLnJlc3VsdC5uYW1lID0gdGhpcy5yZXN1bHQuZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQgZGRkZCcpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gTm90ZSBOYW1lIElucHV0XHJcbiAgICB0aGlzLmNvbnRhaW5lcnMubmFtZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIpXHJcbiAgICAgIC5zZXROYW1lKCdOb3RlIE5hbWUnKVxyXG4gICAgICAuc2V0RGVzYygnRW50ZXIgdGhlIG5hbWUgZm9yIHlvdXIgbmV3IG5vdGUnKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5wdXRFbCA9IHRleHQuaW5wdXRFbFxyXG4gICAgICAgIHRleHQuaW5wdXRFbC5wbGFjZWhvbGRlciA9ICdOb3RlIG5hbWUnXHJcbiAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQubmFtZSA9IHRleHQuaW5wdXRFbC52YWx1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gRm9sZGVyIFNlbGVjdGlvblxyXG4gICAgdGhpcy5jb250YWluZXJzLmZvbGRlckNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKVxyXG4gICAgdGhpcy5mb2xkZXJEcm9wZG93biA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVycy5mb2xkZXJDb250YWluZXIpXHJcbiAgICAgIC5zZXROYW1lKCdMb2NhdGlvbicpXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2Ugd2hlcmUgdG8gY3JlYXRlIHRoZSBub3RlJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIC8vIEFkZCBiYXNlIGZvbGRlcnNcclxuICAgICAgICBPYmplY3QuZW50cmllcyhCQVNFX0ZPTERFUlMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKHZhbHVlLCB2YWx1ZSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICghdGhpcy5pc0Z1dHVyZURhaWx5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmZvbGRlciA9IHZhbHVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgdmFsdWVcclxuICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZShCQVNFX0ZPTERFUlMuSk9VUk5BTClcclxuICAgICAgICB0aGlzLnJlc3VsdC5mb2xkZXIgPSBCQVNFX0ZPTERFUlMuSk9VUk5BTFxyXG4gICAgICB9KVxyXG5cclxuICAgIC8vIEJ1dHRvbnNcclxuICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ2J1dHRvbi1jb250YWluZXInKVxyXG4gICAgYnV0dG9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5nYXAgPSAnMTBweCdcclxuICAgIGJ1dHRvbkRpdi5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCdcclxuXHJcbiAgICAvLyBDcmVhdGUgQnV0dG9uXHJcbiAgICBjb25zdCBjcmVhdGVCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgdGV4dDogJ0NyZWF0ZScsXHJcbiAgICAgIGNsczogJ21vZC1jdGEnXHJcbiAgICB9KVxyXG4gICAgY3JlYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIENhbmNlbCBCdXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KVxyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgdGhpcy5vblN1Ym1pdChudWxsKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBJbml0aWFsIHZpc2liaWxpdHlcclxuICAgIHRoaXMudXBkYXRlRm9ybVZpc2liaWxpdHkoKVxyXG5cclxuICAgIC8vIEZvY3VzIGlucHV0XHJcbiAgICB0aGlzLmlucHV0RWwuZm9jdXMoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVGb3JtVmlzaWJpbGl0eSgpIHtcclxuICAgIGlmICh0aGlzLmlzRnV0dXJlRGFpbHkpIHtcclxuICAgICAgdGhpcy5jb250YWluZXJzLmRhdGVQaWNrZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgdGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICB0aGlzLmNvbnRhaW5lcnMuZm9sZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVycy5kYXRlUGlja2VyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgdGhpcy5jb250YWluZXJzLm5hbWVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgdGhpcy5jb250YWluZXJzLmZvbGRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgICB0aGlzLnJlc3VsdC5kYXRlID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5pc0Z1dHVyZURhaWx5KSB7XHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVzdWx0LmRhdGUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnJlc3VsdC5uYW1lICYmIHRoaXMucmVzdWx0LmZvbGRlcilcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG4gICAgY29udGVudEVsLmVtcHR5KClcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IFZhdWx0LCBBcHAsIG1vbWVudCB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFJPT1RfRk9MREVSID0gJ19MaW5rJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEJBU0VfRk9MREVSUyA9IHtcclxuICBKT1VSTkFMOiBgJHtST09UX0ZPTERFUn0vX0pvdXJuYWxgLFxyXG4gIERPQ1VNRU5UUzogYCR7Uk9PVF9GT0xERVJ9L0RvY3VtZW50c2AsXHJcbiAgVEVNUExBVEVTOiBgJHtST09UX0ZPTERFUn0vVGVtcGxhdGVzYCxcclxuICBXT1JLU1BBQ0U6IGAke1JPT1RfRk9MREVSfS9fV29ya3NwYWNlYCxcclxuICBSRUZFUkVOQ0VTOiBgJHtST09UX0ZPTERFUn0vX1JlZmVyZW5jZXNgLFxyXG4gIEFSQ0hJVkU6IGAke1JPT1RfRk9MREVSfS9BcmNoaXZlYFxyXG59IGFzIGNvbnN0XHJcblxyXG5leHBvcnQgY29uc3QgU1VCX0ZPTERFUlMgPSB7XHJcbiAgW0JBU0VfRk9MREVSUy5ET0NVTUVOVFNdOiBbJ0ltYWdlcycsICdWaWRlb3MnLCAnQXVkaW8nLCAnT3RoZXInXSxcclxuICBbQkFTRV9GT0xERVJTLlJFRkVSRU5DRVNdOiBbXHJcbiAgICAnQm9va3MvVGVjaG5vbG9neScsXHJcbiAgICAnQm9va3MvQnVzaW5lc3MnLFxyXG4gICAgJ0FydGljbGVzL0Jsb2ctUG9zdHMnLFxyXG4gICAgJ0FydGljbGVzL1Jlc2VhcmNoJyxcclxuICAgICdDb3Vyc2VzL09ubGluZScsXHJcbiAgICAnQ291cnNlcy9DZXJ0aWZpY2F0aW9ucydcclxuICBdLFxyXG4gIFtCQVNFX0ZPTERFUlMuQVJDSElWRV06IFtcclxuICAgICdDb21wbGV0ZWQtUHJvamVjdHMnLFxyXG4gICAgJ09sZC1SZWZlcmVuY2VzJyxcclxuICAgICdPbGQtVGVtcGxhdGVzJ1xyXG4gIF1cclxufSBhcyBjb25zdFxyXG5cclxuY29uc3QgREVGQVVMVF9URU1QTEFURV9DT05URU5UID0gYC0tLVxyXG5wcmV2aW91czogJydcclxubmV4dDogJydcclxudGFnczogW11cclxucmVzb3VyY2VzOiBbXVxyXG5zdGFrZWhvbGRlcnM6IFtdXHJcbi0tLVxyXG5cclxuIyMgUm91dGluZSBDaGVja2xpc3RcclxuXHJcbi0gWyBdICoqRGFpbHkgQ2hlY2tzKipcclxuXHJcbiAgLSBbIF0gQmVkIGFuZCBDbG90aGVzIFx1RDgzRFx1REVDRlx1RkUwRlx1RDgzRVx1RERGQVxyXG4gIC0gWyBdIFNlbGYgQ2FyZVx1RDgzRFx1REVDMFx1RDgzRVx1RERGNFxyXG4gIC0gWyBdIENsZWFuIEtpdGNoZW4gXHVEODNDXHVERjdEXHUyNzI4XHJcbiAgLSBbIF0gUGV0IENhcmUgXHVEODNEXHVEQzE1XHVEODNEXHVERUI2XHVEODNDXHVERkZCXHUyMDBEXHUyNjQyXHVGRTBGXHJcbiAgLSBbIF0gR2V0IEZvY3VzZWQgXHVEODNEXHVEREE1XHVGRTBGXHVEODNEXHVEQzhBXHJcblxyXG4tIFsgXSAqKlRlY2hub2xvZ3kgQ2hlY2sqKlxyXG4gIC0gWyBdIFdlYXIgV2F0Y2ggXHUyMzFBXHVGRTBGXHJcbiAgLSBbIF0gTWFuYWdlIFtDYWxlbmRhcl0oaHR0cHM6Ly9jYWxlbmRhci5nb29nbGUuY29tKSBcdUQ4M0RcdURDQzZcclxuICAtIFsgXSBDaGVjayBbTWFpbF0oaHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20pIFx1MjcwOVx1RkUwRlxyXG4gIC0gWyBdIFJldmlldyBbW0RlY2VtYmVyIExvZ11dIFx1RDgzRFx1REREM1x1RkUwRlxyXG4gIC0gWyBdIFJldmlldyBbW0RlY2VtYmVyIExpc3RdXSBcdTI3MDVcclxuXHJcbi0tLVxyXG5cclxuIyMgTG9nXHJcblxyXG4jIyMgVG8gRG9cclxuXHJcbi0gWyBdXHJcblxyXG4jIyMgU3RyZWFtXHJcblxyXG4+XHJcblxyXG4jIyMgRXZlbnRzXHJcblxyXG4tXHJcblxyXG4jIyMgV29ya1xyXG5cclxuLSAqKipcclxuXHJcbiMjIERhaWx5IFBsYW5uaW5nIFRpcHNcclxuXHJcbjEuICoqU2V0IENsZWFyIEdvYWxzKio6IElkZW50aWZ5IHRocmVlIG1ham9yIHRhc2tzIChcdUQ4M0RcdURGRTlcdUQ4M0RcdURGRThcdUQ4M0RcdURGRTUpLCBwcmlvcml0aXppbmcgb25lIGhpZ2gtaW1wYWN0IHRhc2sgKFx1RDgzRFx1REZFNSkuXHJcbjIuICoqQnJlYWsgRG93biBUYXNrcyoqOiBEaXZpZGUgcHJvamVjdHMgaW50byBtYW5hZ2VhYmxlLCBzcGVjaWZpYyBzdGVwcy5cclxuMy4gKipVc2UgRm9jdXMgU2Vzc2lvbnMqKjogNDAgbWlucyB3b3JrICsgMTAgbWlucyByZXZpZXcvYnJlYWsuXHJcbjQuICoqUHJpb3JpdGl6ZSBFYXJseSoqOiBTdGFydCB3aXRoIGNyaXRpY2FsIHRhc2tzIGZvciBwZWFrIHByb2R1Y3Rpdml0eS5cclxuNS4gKipFbmQgd2l0aCBSZXZpZXcqKjogUmVmbGVjdCBvbiBhY2NvbXBsaXNobWVudHM7IG91dGxpbmUgdG9tb3Jyb3cncyBnb2Fscy5cclxuNi4gKipMaW1pdCBEaXN0cmFjdGlvbnMqKjogVHVybiBvZmYgbm90aWZpY2F0aW9uczsgYXZvaWQgbXVsdGl0YXNraW5nLlxyXG43LiAqKk9yZ2FuaXplIFZpc3VhbGx5Kio6IFVzZSBPYnNpZGlhbiBhcyBhIFwic2Vjb25kIGJyYWluXCIgcmVmZXJlbmNlLlxyXG44LiAqKlBsYW4gRXh0cmEgVGltZSoqOiBCdWZmZXIgZm9yIGNvbXBsZXggdGFza3MgdG8gYXZvaWQgcnVzaGluZy5cclxuOS4gKipXZWVrbHkgUmV2aWV3Kio6IEFkanVzdCBnb2FscyBiYXNlZCBvbiBwcm9ncmVzcyBhbmQgcHJpb3JpdGllcy5cclxuXHJcbiMjIyBUaXBcclxuXHJcbkluY29ycG9yYXRlIG9uZSBvZiB0aGVzZSBlYWNoIGRheSB0byBidWlsZCBhIHN0cm9uZywgY29uc2lzdGVudCBwbGFubmluZyBoYWJpdC5cclxuXHJcbi0tLVxyXG5cclxuIyMgQ2hhbGxlbmdlc1xyXG5cclxuYFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlVGVtcGxhdGVFeGlzdHModmF1bHQ6IFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCB0ZW1wbGF0ZVBhdGggPSBgJHtCQVNFX0ZPTERFUlMuVEVNUExBVEVTfS9EYWlseSBOb3RlIFRlbXBsYXRlLm1kYFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyh0ZW1wbGF0ZVBhdGgpXHJcbiAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICBhd2FpdCB2YXVsdC5jcmVhdGUodGVtcGxhdGVQYXRoLCBERUZBVUxUX1RFTVBMQVRFX0NPTlRFTlQpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoYENyZWF0ZWQgdGVtcGxhdGUgZmlsZTogJHt0ZW1wbGF0ZVBhdGh9YClcclxuICAgIH1cclxuICAgIHJldHVybiB0ZW1wbGF0ZVBhdGhcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5zdXJpbmcgdGVtcGxhdGUgZXhpc3RzOicsIGVycm9yKVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYWlseU5vdGVzTG9jYXRpb24oYXBwOiBBcHApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKClcclxuICAgIGNvbnN0IG1vbnRoID0gbm93LmdldE1vbnRoKCkgKyAxXHJcbiAgICBjb25zdCBtb250aE5hbWUgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4tVVMnLCB7XHJcbiAgICAgIG1vbnRoOiAnc2hvcnQnXHJcbiAgICB9KS5mb3JtYXQobm93KVxyXG5cclxuICAgIGNvbnN0IHllYXJGb2xkZXIgPSBgJHtCQVNFX0ZPTERFUlMuSk9VUk5BTH0veV8ke3llYXJ9YFxyXG4gICAgY29uc3QgbW9udGhGb2xkZXIgPSBgJHt5ZWFyRm9sZGVyfS9tXyR7U3RyaW5nKG1vbnRoKS5wYWRTdGFydChcclxuICAgICAgMixcclxuICAgICAgJzAnXHJcbiAgICApfV8ke21vbnRoTmFtZX1gXHJcblxyXG4gICAgLy8gRW5zdXJlIHRoZSBmb2xkZXJzIGV4aXN0XHJcbiAgICBhd2FpdCBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhhcHAudmF1bHQsIHllYXJGb2xkZXIpXHJcbiAgICBhd2FpdCBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhhcHAudmF1bHQsIG1vbnRoRm9sZGVyKVxyXG5cclxuICAgIC8vIEVuc3VyZSB0ZW1wbGF0ZSBleGlzdHMgYW5kIGdldCBpdHMgcGF0aFxyXG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gYXdhaXQgZW5zdXJlVGVtcGxhdGVFeGlzdHMoYXBwLnZhdWx0KVxyXG5cclxuICAgIC8vIFVwZGF0ZSBPYnNpZGlhbidzIGNvcmUgZGFpbHkgbm90ZXMgc2V0dGluZ3NcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhaWx5Tm90ZXNTZXR0aW5ncyA9IGF3YWl0IGFwcC52YXVsdC5hZGFwdGVyXHJcbiAgICAgICAgLnJlYWQoJy5vYnNpZGlhbi9kYWlseS1ub3Rlcy5qc29uJylcclxuICAgICAgICAuY2F0Y2goKCkgPT4gJ3t9JylcclxuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBKU09OLnBhcnNlKGRhaWx5Tm90ZXNTZXR0aW5ncylcclxuXHJcbiAgICAgIHNldHRpbmdzLmZvbGRlciA9IG1vbnRoRm9sZGVyXHJcbiAgICAgIHNldHRpbmdzLnRlbXBsYXRlID0gdGVtcGxhdGVQYXRoXHJcbiAgICAgIHNldHRpbmdzLmZvcm1hdCA9ICdZWVlZLU1NLUREIGRkZGQnXHJcblxyXG4gICAgICBhd2FpdCBhcHAudmF1bHQuYWRhcHRlci53cml0ZShcclxuICAgICAgICAnLm9ic2lkaWFuL2RhaWx5LW5vdGVzLmpzb24nLFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLCBudWxsLCAyKVxyXG4gICAgICApXHJcblxyXG4gICAgICAvLyBJZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luIGlzIGVuYWJsZWQsIHVwZGF0ZSBpdHMgc2V0dGluZ3NcclxuICAgICAgY29uc3QgZGFpbHlOb3Rlc1BsdWdpbiA9IChhcHAgYXMgYW55KS5pbnRlcm5hbFBsdWdpbnM/LnBsdWdpbnNbXHJcbiAgICAgICAgJ2RhaWx5LW5vdGVzJ1xyXG4gICAgICBdXHJcbiAgICAgIGlmIChkYWlseU5vdGVzUGx1Z2luPy5lbmFibGVkKSB7XHJcbiAgICAgICAgZGFpbHlOb3Rlc1BsdWdpbi5pbnN0YW5jZS5vcHRpb25zID0gc2V0dGluZ3NcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZGFpbHkgbm90ZXMgc2V0dGluZ3M6JywgZXJyb3IpXHJcbiAgICAgIC8vIENvbnRpbnVlIGV4ZWN1dGlvbiBldmVuIGlmIHNldHRpbmdzIHVwZGF0ZSBmYWlsc1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtb250aEZvbGRlclxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkYWlseSBub3RlcyBsb2NhdGlvbjonLCBlcnJvcilcclxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBkYWlseSBub3RlcyBsb2NhdGlvbicpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlRm9sZGVyU3RydWN0dXJlKGFwcDogQXBwKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENyZWF0ZSByb290IGZvbGRlciBmaXJzdFxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBST09UX0ZPTERFUilcclxuXHJcbiAgICAvLyBDcmVhdGUgYmFzZSBmb2xkZXJzXHJcbiAgICBmb3IgKGNvbnN0IGZvbGRlciBvZiBPYmplY3QudmFsdWVzKEJBU0VfRk9MREVSUykpIHtcclxuICAgICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBmb2xkZXIpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIHN1Yi1mb2xkZXJzXHJcbiAgICBmb3IgKGNvbnN0IFtiYXNlRm9sZGVyLCBzdWJGb2xkZXJzXSBvZiBPYmplY3QuZW50cmllcyhTVUJfRk9MREVSUykpIHtcclxuICAgICAgZm9yIChjb25zdCBzdWJGb2xkZXIgb2Ygc3ViRm9sZGVycykge1xyXG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gYCR7YmFzZUZvbGRlcn0vJHtzdWJGb2xkZXJ9YFxyXG4gICAgICAgIGF3YWl0IGNyZWF0ZUZvbGRlcklmTm90RXhpc3RzKGFwcC52YXVsdCwgZnVsbFBhdGgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgZGFpbHkgbm90ZXMgbG9jYXRpb25cclxuICAgIGF3YWl0IHVwZGF0ZURhaWx5Tm90ZXNMb2NhdGlvbihhcHApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuc3VyaW5nIGZvbGRlciBzdHJ1Y3R1cmU6JywgZXJyb3IpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgZm9sZGVyIHN0cnVjdHVyZScpXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVGb2xkZXJJZk5vdEV4aXN0cyhcclxuICB2YXVsdDogVmF1bHQsXHJcbiAgcGF0aDogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyhwYXRoKVxyXG4gICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKHBhdGgpXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoYENyZWF0ZWQgZm9sZGVyOiAke3BhdGh9YClcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgY3JlYXRpbmcgZm9sZGVyICR7cGF0aH06YCwgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZ1dHVyZURhaWx5Tm90ZUZvbGRlcihcclxuICBhcHA6IEFwcCxcclxuICBkYXRlOiBtb21lbnQuTW9tZW50XHJcbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLnllYXIoKVxyXG4gICAgY29uc3QgbW9udGggPSBkYXRlLm1vbnRoKCkgKyAxIC8vIG1vbWVudCBtb250aHMgYXJlIDAtYmFzZWRcclxuICAgIGNvbnN0IG1vbnRoTmFtZSA9IGRhdGUuZm9ybWF0KCdNTU0nKVxyXG5cclxuICAgIGNvbnN0IHllYXJGb2xkZXIgPSBgJHtCQVNFX0ZPTERFUlMuSk9VUk5BTH0veV8ke3llYXJ9YFxyXG4gICAgY29uc3QgbW9udGhGb2xkZXIgPSBgJHt5ZWFyRm9sZGVyfS9tXyR7U3RyaW5nKG1vbnRoKS5wYWRTdGFydChcclxuICAgICAgMixcclxuICAgICAgJzAnXHJcbiAgICApfV8ke21vbnRoTmFtZX1gXHJcblxyXG4gICAgLy8gQ3JlYXRlIGZvbGRlcnMgaWYgdGhleSBkb24ndCBleGlzdFxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCB5ZWFyRm9sZGVyKVxyXG4gICAgYXdhaXQgY3JlYXRlRm9sZGVySWZOb3RFeGlzdHMoYXBwLnZhdWx0LCBtb250aEZvbGRlcilcclxuXHJcbiAgICByZXR1cm4gbW9udGhGb2xkZXJcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZnV0dXJlIGRhaWx5IG5vdGUgZm9sZGVyOicsIGVycm9yKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGZ1dHVyZSBkYWlseSBub3RlIGZvbGRlcicpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGFpbHlOb3RlQ29udGVudChcclxuICBhcHA6IEFwcCxcclxuICBub3RlTmFtZTogc3RyaW5nLFxyXG4gIGRhdGU/OiBtb21lbnQuTW9tZW50XHJcbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBnZXQgdGhlIHRlbXBsYXRlIGNvbnRlbnRcclxuICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IGAke0JBU0VfRk9MREVSUy5URU1QTEFURVN9L0RhaWx5IE5vdGUgVGVtcGxhdGUubWRgXHJcbiAgICBsZXQgdGVtcGxhdGVDb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIucmVhZCh0ZW1wbGF0ZVBhdGgpXHJcblxyXG4gICAgaWYgKGRhdGUpIHtcclxuICAgICAgLy8gQ3JlYXRlIHByZXZpb3VzIGFuZCBuZXh0IGRhdGVzXHJcbiAgICAgIGNvbnN0IHByZXZEYXRlID0gbW9tZW50KGRhdGUpLnN1YnRyYWN0KDEsICdkYXknKVxyXG4gICAgICBjb25zdCBuZXh0RGF0ZSA9IG1vbWVudChkYXRlKS5hZGQoMSwgJ2RheScpXHJcblxyXG4gICAgICAvLyBGb3JtYXQgdGhlIGRhdGVzIGZvciBsaW5rc1xyXG4gICAgICBjb25zdCBwcmV2TGluayA9IGAke3ByZXZEYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpfSAke3ByZXZEYXRlLmZvcm1hdChcclxuICAgICAgICAnZGRkZCdcclxuICAgICAgKX1gXHJcbiAgICAgIGNvbnN0IG5leHRMaW5rID0gYCR7bmV4dERhdGUuZm9ybWF0KCdZWVlZLU1NLUREJyl9ICR7bmV4dERhdGUuZm9ybWF0KFxyXG4gICAgICAgICdkZGRkJ1xyXG4gICAgICApfWBcclxuXHJcbiAgICAgIC8vIFJlcGxhY2UgdGVtcGxhdGUgdmFyaWFibGVzXHJcbiAgICAgIHRlbXBsYXRlQ29udGVudCA9IHRlbXBsYXRlQ29udGVudFxyXG4gICAgICAgIC5yZXBsYWNlKC9wcmV2aW91czogJycvZywgYHByZXZpb3VzOiAnW1ske3ByZXZMaW5rfV1dJ2ApXHJcbiAgICAgICAgLnJlcGxhY2UoL25leHQ6ICcnL2csIGBuZXh0OiAnW1ske25leHRMaW5rfV1dJ2ApXHJcbiAgICAgICAgLnJlcGxhY2UoL3t7ZGF0ZTpZWVlZLU1NLUREfX0vZywgZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKSlcclxuICAgICAgICAucmVwbGFjZSgve3t0aW1lOkhIOm1tfX0vZywgbW9tZW50KCkuZm9ybWF0KCdISDptbScpKVxyXG4gICAgICAgIC5yZXBsYWNlKFxyXG4gICAgICAgICAgL3t7ZGF0ZTpkZGRkLCBNTU1NIEQsIFlZWVl9fS9nLFxyXG4gICAgICAgICAgZGF0ZS5mb3JtYXQoJ2RkZGQsIE1NTU0gRCwgWVlZWScpXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBtb250aCBsb2cgYW5kIGxpc3QgcmVmZXJlbmNlc1xyXG4gICAgICBjb25zdCBtb250aE5hbWUgPSBkYXRlLmZvcm1hdCgnTU1NTScpXHJcbiAgICAgIHRlbXBsYXRlQ29udGVudCA9IHRlbXBsYXRlQ29udGVudFxyXG4gICAgICAgIC5yZXBsYWNlKC9cXFtcXFtEZWNlbWJlciBMb2dcXF1cXF0vZywgYFtbJHttb250aE5hbWV9IExvZ11dYClcclxuICAgICAgICAucmVwbGFjZSgvXFxbXFxbRGVjZW1iZXIgTGlzdFxcXVxcXS9nLCBgW1ske21vbnRoTmFtZX0gTGlzdF1dYClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGVtcGxhdGVDb250ZW50XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgdGVtcGxhdGU6JywgZXJyb3IpXHJcbiAgICAvLyBGYWxsYmFjayB0byBiYXNpYyBjb250ZW50IGlmIHRlbXBsYXRlIGNhbid0IGJlIHJlYWRcclxuICAgIHJldHVybiBgIyAke25vdGVOYW1lfVxcblxcbkNyZWF0ZWQ6ICR7bW9tZW50KCkuZm9ybWF0KFxyXG4gICAgICAnWVlZWS1NTS1ERCBISDptbSdcclxuICAgICl9XFxuXFxuYFxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nXHJcblxyXG5leHBvcnQgY2xhc3MgTGlua1BsdWdpbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgbWVzc2FnZTogc3RyaW5nLFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvZGU6IEVycm9yQ29kZSxcclxuICAgIHB1YmxpYyByZWFkb25seSBvcmlnaW5hbEVycm9yPzogRXJyb3JcclxuICApIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UpXHJcbiAgICB0aGlzLm5hbWUgPSAnTGlua1BsdWdpbkVycm9yJ1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXJyb3JDb2RlIHtcclxuICBGSUxFX0NSRUFUSU9OX0ZBSUxFRCA9ICdGSUxFX0NSRUFUSU9OX0ZBSUxFRCcsXHJcbiAgSU5WQUxJRF9GSUxFTkFNRSA9ICdJTlZBTElEX0ZJTEVOQU1FJyxcclxuICBGSUxFX0VYSVNUUyA9ICdGSUxFX0VYSVNUUycsXHJcbiAgTElOS19JTlNFUlRJT05fRkFJTEVEID0gJ0xJTktfSU5TRVJUSU9OX0ZBSUxFRCcsXHJcbiAgSU5WQUxJRF9OT1RFX05BTUUgPSAnSU5WQUxJRF9OT1RFX05BTUUnLFxyXG4gIEZJTEVfQUxSRUFEWV9FWElTVFMgPSAnRklMRV9BTFJFQURZX0VYSVNUUycsXHJcbiAgRklMRV9PUEVSQVRJT05fRkFJTEVEID0gJ0ZJTEVfT1BFUkFUSU9OX0ZBSUxFRCdcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVBsdWdpbkVycm9yKGVycm9yOiB1bmtub3duLCBjb250ZXh0OiBzdHJpbmcpOiBuZXZlciB7XHJcbiAgY29uc3QgcGx1Z2luRXJyb3IgPSBlbnN1cmVQbHVnaW5FcnJvcihlcnJvciwgY29udGV4dClcclxuXHJcbiAgLy8gTG9nIGVycm9yIGZvciBkZWJ1Z2dpbmdcclxuICBjb25zb2xlLmVycm9yKGBbTGluayBQbHVnaW5dICR7Y29udGV4dH06YCwgcGx1Z2luRXJyb3IpXHJcblxyXG4gIC8vIFNob3cgdXNlci1mcmllbmRseSBub3RpY2VcclxuICBuZXcgTm90aWNlKGBMaW5rIFBsdWdpbjogJHtwbHVnaW5FcnJvci5tZXNzYWdlfWApXHJcblxyXG4gIHRocm93IHBsdWdpbkVycm9yXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuc3VyZVBsdWdpbkVycm9yKGVycm9yOiB1bmtub3duLCBjb250ZXh0OiBzdHJpbmcpOiBMaW5rUGx1Z2luRXJyb3Ige1xyXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIExpbmtQbHVnaW5FcnJvcikge1xyXG4gICAgcmV0dXJuIGVycm9yXHJcbiAgfVxyXG5cclxuICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgcmV0dXJuIG5ldyBMaW5rUGx1Z2luRXJyb3IoXHJcbiAgICBgJHtjb250ZXh0fTogJHttZXNzYWdlfWAsXHJcbiAgICBFcnJvckNvZGUuRklMRV9DUkVBVElPTl9GQUlMRUQsXHJcbiAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiB1bmRlZmluZWRcclxuICApXHJcbn1cclxuIiwgImV4cG9ydCBpbnRlcmZhY2UgTGlua1BsdWdpblNldHRpbmdzIHtcclxuICBkZWZhdWx0TGlua1N0eWxlOiBzdHJpbmdcclxuICBhdXRvRm9ybWF0TGlua3M6IGJvb2xlYW5cclxuICBkYWlseU5vdGVzTG9jYXRpb246IHN0cmluZ1xyXG4gIGF1dG9SZXZlYWxGaWxlOiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBMaW5rUGx1Z2luU2V0dGluZ3MgPSB7XHJcbiAgZGVmYXVsdExpbmtTdHlsZTogJ21hcmtkb3duJyxcclxuICBhdXRvRm9ybWF0TGlua3M6IHRydWUsXHJcbiAgZGFpbHlOb3Rlc0xvY2F0aW9uOiAnJyxcclxuICBhdXRvUmV2ZWFsRmlsZTogdHJ1ZVxyXG59XHJcbiIsICIvKipcclxuICogQGZpbGUgYmFzZU1vZGFsLnRzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNb2RhbEl0ZW0ge1xyXG4gIHRpdGxlOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUGx1Z2luTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgIHN1cGVyKGFwcClcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IHJlbmRlckNvbnRlbnQoKTogdm9pZFxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG4gICAgY29udGVudEVsLmVtcHR5KClcclxuICAgIHRoaXMucmVuZGVyQ29udGVudCgpXHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpXHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgY3JlYXRlU2VjdGlvbih0aXRsZTogc3RyaW5nLCBpdGVtczogTW9kYWxJdGVtW10pIHtcclxuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdoZWxwLXNlY3Rpb24nIH0pXHJcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdGl0bGUgfSlcclxuXHJcbiAgICBjb25zdCBsaXN0ID0gc2VjdGlvbi5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdoZWxwLWxpc3QnIH0pXHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbCA9IGxpc3QuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnaGVscC1pdGVtJyB9KVxyXG4gICAgICBpdGVtRWwuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiBpdGVtLnRpdGxlIH0pXHJcbiAgICAgIGl0ZW1FbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogaXRlbS5kZXNjcmlwdGlvbiB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBhZGRBY3Rpb25CdXR0b25zKFxyXG4gICAgYWN0aW9uczogQXJyYXk8e1xyXG4gICAgICB0ZXh0OiBzdHJpbmdcclxuICAgICAgaXNDdGE/OiBib29sZWFuXHJcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuICAgIH0+XHJcbiAgKSB7XHJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRlbnRFbClcclxuXHJcbiAgICBhY3Rpb25zLmZvckVhY2goKHsgdGV4dCwgaXNDdGEsIG9uQ2xpY2sgfSkgPT4ge1xyXG4gICAgICBidXR0b25Db250YWluZXIuYWRkQnV0dG9uKChidG4pID0+IHtcclxuICAgICAgICBidG4uc2V0QnV0dG9uVGV4dCh0ZXh0KVxyXG4gICAgICAgIGlmIChpc0N0YSkgYnRuLnNldEN0YSgpXHJcbiAgICAgICAgYnRuLm9uQ2xpY2sob25DbGljaylcclxuICAgICAgICByZXR1cm4gYnRuXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IEJhc2VQbHVnaW5Nb2RhbCwgTW9kYWxJdGVtIH0gZnJvbSAnLi9iYXNlTW9kYWwnXHJcblxyXG5leHBvcnQgY2xhc3MgSGVscE1vZGFsIGV4dGVuZHMgQmFzZVBsdWdpbk1vZGFsIHtcclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4gICAgc3VwZXIoYXBwKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ29udGVudCgpIHtcclxuICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xpbmsgUGx1Z2luIEhlbHAnIH0pXHJcblxyXG4gICAgLy8gQ29yZSBmZWF0dXJlcyBzZWN0aW9uXHJcbiAgICB0aGlzLmNyZWF0ZVNlY3Rpb24oJ0NvcmUgRmVhdHVyZXMnLCBbXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ1x1RDgzRFx1RENERCBDcmVhdGluZyBMaW5rZWQgTm90ZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgJ0VudGVyIGEgbmFtZSBmb3IgeW91ciBuZXcgbm90ZSBpbiB0aGUgcG9wdXAgZGlhbG9nIHRvIGNyZWF0ZSBhIGxpbmtlZCBub3RlLidcclxuICAgICAgfVxyXG4gICAgXSlcclxuXHJcbiAgICAvLyBTZXR0aW5ncyBzZWN0aW9uXHJcbiAgICB0aGlzLmNyZWF0ZVNlY3Rpb24oJ1NldHRpbmdzJywgW1xyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdcdTI2OTlcdUZFMEYgUGx1Z2luIFNldHRpbmdzJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdBY2Nlc3Mgc2V0dGluZ3MgdmlhIFNldHRpbmdzID4gTGluayBQbHVnaW4gdG8gY3VzdG9taXplOlxcbi0gRGVmYXVsdCBsaW5rIHN0eWxlIChXaWtpIG9yIE1hcmtkb3duKVxcbi0gQXV0by1mb3JtYXQgbGlua3MgdG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICBdKVxyXG5cclxuICAgIC8vIEFkZCBhY3Rpb24gYnV0dG9uc1xyXG4gICAgdGhpcy5hZGRBY3Rpb25CdXR0b25zKFtcclxuICAgICAge1xyXG4gICAgICAgIHRleHQ6ICdPcGVuIFNldHRpbmdzJyxcclxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgIHRoaXMuYXBwLnNldHRpbmcub3BlblRhYkJ5SWQoJ29ic2lkaWFuLWxpbmstcGx1Z2luJylcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0ZXh0OiAnQ2xvc2UnLFxyXG4gICAgICAgIGlzQ3RhOiB0cnVlLFxyXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY2xvc2UoKVxyXG4gICAgICB9XHJcbiAgICBdKVxyXG4gIH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBWU87OztBQ1BQLElBQUFDLG1CQUFtRDs7O0FDSDVDLFNBQVMsaUJBQWlCLE1BQXNCO0FBQ3JELFNBQU8sS0FDSixZQUFZLEVBQ1osUUFBUSxRQUFRLEdBQUcsRUFDbkIsUUFBUSxlQUFlLEVBQUUsRUFDekIsUUFBUSxPQUFPLEdBQUc7QUFDdkI7OztBQ1JBLElBQUFDLG1CQUE0Qzs7O0FDQTVDLHNCQUFtQztBQUU1QixJQUFNLGNBQWM7QUFFcEIsSUFBTSxlQUFlO0FBQUEsRUFDMUIsU0FBUyxHQUFHO0FBQUEsRUFDWixXQUFXLEdBQUc7QUFBQSxFQUNkLFdBQVcsR0FBRztBQUFBLEVBQ2QsV0FBVyxHQUFHO0FBQUEsRUFDZCxZQUFZLEdBQUc7QUFBQSxFQUNmLFNBQVMsR0FBRztBQUNkO0FBRU8sSUFBTSxjQUFj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Q0FBQyxXQUNWLE9BQ0csU0FBUyxLQUFLLE9BQU8sU0FBUyxlQUFlLEVBQzdDLFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLGtCQUFrQjtBQUN2QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDakMsQ0FBQztBQUFBLElBQ0w7QUFFRixRQUFJLHlCQUFRLFdBQVcsRUFDcEIsUUFBUSxtQkFBbUIsRUFDM0I7QUFBQSxNQUNDO0FBQUEsSUFDRixFQUNDO0FBQUEsTUFBVSxDQUFDLFdBQ1YsT0FDRyxTQUFTLEtBQUssT0FBTyxTQUFTLGNBQWMsRUFDNUMsU0FBUyxPQUFPLFVBQVU7QUFDekIsYUFBSyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3RDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLE1BQU0sRUFDZCxRQUFRLDZCQUE2QixFQUNyQztBQUFBLE1BQVUsQ0FBQyxRQUNWLElBQ0csY0FBYyxXQUFXLEVBQ3pCLE9BQU8sRUFDUCxRQUFRLE1BQU07QUFDYixZQUFJLFVBQVUsS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQy9CLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFDSjtBQUNGOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3JlYXRlRGFpbHlOb3RlQ29udGVudCIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
